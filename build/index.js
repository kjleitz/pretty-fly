!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);const s=document.createElement("canvas"),o=()=>{s.width=window.innerWidth,s.height=window.innerHeight};o(),window.addEventListener("resize",o),document.body.appendChild(s);const r=s.getContext("2d");r||console.error("Canvas '2d' context is not supported.");let n=0;const h=(t,e)=>{requestAnimationFrame(()=>h(t,e)),t.clearRect(0,0,window.innerWidth,window.innerHeight),e(n),n+=1};var l=h;const a=(t,e)=>{const[i,s]=t<e?[t,e]:[e,t],o=s-i;return i+Math.random()*o};function c(t,...e){const i="number"==typeof e[0]?e[0]:0,s="function"==typeof e[0]?e[0]:e[1],[o,r]=t<i?[t,i]:[i,t];return[...Array(r-o).keys()].map(t=>s?s(t+o):t+o)}c(10),c(0,10),c(0,t=>t.toString()),c(0,10,t=>t.toString());window.range=c;const u=(t,e,i=0)=>{if(t===i)return i;if(t>i){const s=t-e;return s<i?i:s}const s=t+e;return s>i?i:s},g=(t,e,i)=>{const[s,o]=e<i?[e,i]:[i,e];return t<s?s:t>o?o:t},d=(t,e,i,s=!0)=>{const[o,r]=e<i?[e,i]:[i,e];return s?t>=o&&t<=r:t>o&&t<r},f=(t,e)=>Math.abs(t-e),p=0,y=1,m=.25,w=100;var b=new class{constructor(){this.masses=[]}collisionsForMove(t,e){const i=new v(Object.assign(Object.assign(Object.assign({},t),e),{darkMatter:!0})),s=i.x-t.x,o=i.y-t.y,r=o<0,n=o>0,h=s<0,l=s>0;return this.masses.reduce((e,s)=>{if(s===t)return e;if(!i.isHitting(s))return e;const o=s.solid?e.solid:e.ephemeral;if(r&&d(s.bottom,t.top,i.top)){const t=f(s.bottom,i.top);o.top<t&&(o.top=t)}if(n&&d(s.top,t.bottom,i.bottom)){const t=f(s.top,i.bottom);o.bottom<t&&(o.bottom=t)}if(h&&d(s.right,t.left,i.left)){const t=f(s.right,i.left);o.left<t&&(o.left=t)}if(l&&d(s.left,t.right,i.right)){const t=f(s.left,i.right);o.right<t&&(o.right=t)}return e},{solid:{top:0,bottom:0,left:0,right:0},ephemeral:{top:0,bottom:0,left:0,right:0}})}overlappingMasses(t,{ignore:e=[]}={}){return this.masses.filter(i=>t!==i&&!e.includes(i)&&t.isHitting(i))}overlap(t,{ignore:e=[]}={}){return this.overlappingMasses(t,{ignore:e}).reduce((e,i)=>{const s=e;if(i.top>=t.top&&i.top<=t.bottom){const e=t.bottom-i.top;s.bottom<e&&(s.bottom=e)}if(i.bottom<=t.bottom&&i.bottom>=t.top){const e=i.bottom-t.top;s.top<e&&(s.top=e)}if(i.left>=t.left&&i.left<=t.right){const e=t.right-i.left;s.right<e&&(s.right=e)}if(i.right>=t.left&&i.right<=t.right){const e=i.right-t.left;s.left<e&&(s.left=e)}return s},{top:0,right:0,bottom:0,left:0})}};const x=(t,e,i,s,o)=>{let r=t+e,n=e+i;return r>o?(r=o,n=0):r<s&&(r=s,n=0),{position:r,velocity:n}};class v{constructor(t){this.mass=1,this.x=0,this.y=0,this.dx=0,this.dy=0,this.width=25,this.height=25,this.stationary=!1,this.darkMatter=!1,this.solid=!0,this.collectOnTouch=!1,this.touchedAt=null,Object.assign(this,t),this.darkMatter||b.masses.push(this)}get dragCoefficient(){return(2*this.width+2*this.height)/this.mass/w}get ax(){return this.stationary?0:p}get ay(){return this.stationary?0:y}get isAgainstTopWall(){return 0===this.y}get isAgainstBottomWall(){return this.y===window.innerHeight-this.height}get isAgainstLeftWall(){return 0===this.x}get isAgainstRightWall(){return this.x===window.innerWidth-this.width}get terminalVelocity(){return 20}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get left(){return this.x}update(){const t=x(this.x,this.dx,this.ax,this.width,window.innerWidth-this.width),e=x(this.y,this.dy,this.ay,this.height,window.innerHeight-this.height);let i=t.position,s=e.position,o=t.velocity,r=e.velocity;const n=b.collisionsForMove(this,{x:i,y:s}).solid;n.right>0?(i-=n.right,o=0):n.left>0&&(i+=n.left,o=0),n.bottom>0?(s-=n.bottom,r=0):n.top>0&&(s+=n.top,r=0),this.x=i,this.y=s,(this.isAgainstTopWall||this.isAgainstBottomWall||n.top||n.bottom)&&(o=u(o,m)),(this.isAgainstLeftWall||this.isAgainstRightWall||n.left||n.right)&&(r=u(r,m)),this.dx=g(o,-1*this.terminalVelocity,this.terminalVelocity),this.dy=g(r,-1*this.terminalVelocity,this.terminalVelocity)}isHitting(t){return this.right>=t.left&&this.left<=t.right&&this.bottom>=t.top&&this.top<=t.bottom}}var E=new class{constructor(){this.x=0,this.y=0,this.pressed=!1,window.addEventListener("mousedown",t=>{this.populateFromMouseEvent(t)}),window.addEventListener("mousemove",t=>{this.populateFromMouseEvent(t)}),window.addEventListener("mouseup",t=>{this.populateFromMouseEvent(t)}),window.addEventListener("touchstart",t=>{this.populateFromTouchEvent(t)}),window.addEventListener("touchmove",t=>{this.populateFromTouchEvent(t)}),window.addEventListener("touchend",t=>{this.populateFromTouchEvent(t)})}populateFromMouseEvent(t){this.x=t.x,this.y=t.y,this.pressed=1===t.buttons}populateFromTouchEvent(t){const{touches:e}=t;if(0===e.length)this.pressed=!1;else{const t=e[0];this.x=t.clientX,this.y=t.clientY,this.pressed=!0}}};class M{constructor(t,e,{size:i,brightness:s,vector:o}={}){this.x=t,this.y=e,this.size=i||a(1,5);const r=void 0===s?Math.random():s;this.brightness=g(r,0,1),this.vector=o||[-1,1]}}const F=window.innerWidth,R=window.innerHeight,A=new class extends v{constructor(){super(...arguments),this.width=15,this.height=20,this.jetpackForceX=.4,this.jetpackForceY=1.3,this.MAX_FUEL=100,this.MIN_FUEL=0,this.MAX_FUEL_RECHARGE=25,this.fuelRechargeRate=.1,this.fuelRechargeDelay=200,this.lastBurn=null,this._fuel=100}get burning(){return this.fuel>0&&E.pressed}get axJetpack(){if(!this.burning)return 0;const t=E.x-this.x,e=-1*this.width,i=2*this.width;if(d(t,e,i))return 0;const s=this.jetpackForceX/this.mass;return t>0?s:-1*s}get ayJetpack(){if(!this.burning)return 0;const t=E.y-this.y,e=this.height;return t>=0||d(t,0,e)?0:-1*(this.jetpackForceY/this.mass)}get ax(){return super.ax+this.axJetpack}get ay(){return super.ay+this.ayJetpack}get burnerXSide(){return 0===this.axJetpack?"none":this.axJetpack>0?"left":"right"}get burnerYSide(){return 0===this.ayJetpack?"none":this.ayJetpack>0?"top":"bottom"}set fuel(t){this._fuel=g(t,this.MIN_FUEL,this.MAX_FUEL)}get fuel(){return this._fuel}update(){super.update(),this.burning?(this.fuel-=.5,this.lastBurn=new Date):this.fuel<this.MAX_FUEL_RECHARGE&&this.lastBurn&&(new Date).getTime()-this.lastBurn.getTime()>this.fuelRechargeDelay&&(this.fuel=g(this.fuel+this.fuelRechargeRate,this.MIN_FUEL,this.MAX_FUEL))}},S=c(10).map(()=>new v({x:a(0,F),y:a(0,R),width:a(50,150),height:a(50,150),stationary:!0})),_=c(10).map(()=>new v({mass:a(.5,5),x:a(0,F),y:a(0,R),width:25,height:25,solid:!1,stationary:!1,collectOnTouch:!0})),k=[...S,..._],L=[A,...k.filter(t=>!t.stationary)];let T=0;const j=_.length,O=c(100,()=>new M(a(0,F),a(0,R))),W=[];setInterval(()=>{const[t,e]=Math.random()>.5?[a(250,F),0]:[F,a(0,R-250)];W.push(new M(t,e,{brightness:1,vector:[-10,10]}))},2e3),l(r,t=>{O.forEach((e,i)=>{const{x:s,y:o,size:n,brightness:h,vector:l}=e,c=h-Math.random();if(r.fillStyle=`rgba(255, 255, 255, ${(t+i)%20==0?c:h})`,r.fillRect(s,o,n,n),e.x+=l[0],e.y+=l[1],e.x<0||e.x>F||e.y<0||e.y>R){const[t,i]=Math.random()>.5?[a(0,F),0]:[F,a(0,R)];e.x=t,e.y=i}}),W.forEach((t,e)=>{const{x:i,y:s,size:o,brightness:n,vector:h}=t;r.fillStyle=`rgba(255, 255, 255, ${n})`,r.fillRect(i,s,o,o),t.x+=h[0],t.y+=h[1],(t.x<0||t.x>F||t.y<0||t.y>R)&&W.splice(e,1)}),k.forEach((t,e)=>{const i=A.isHitting(t);let s=!0;if(t.solid)r.fillStyle="rgba(255, 0, 0, 0.7)";else if(i&&!t.touchedAt)r.fillStyle="rgba(0, 0, 255, 0.8)",t.touchedAt=(new Date).getTime(),A.fuel+=.25*A.MAX_FUEL;else if(t.collectOnTouch&&t.touchedAt){const i=(new Date).getTime()-t.touchedAt;if(i>200)k.splice(e,1),s=!1,T+=1;else{const t=Math.ceil(i/200*255);r.fillStyle=`rgba(${t}, ${t}, 255, 0.8)`}}else r.fillStyle="rgba(0, 100, 255, 0.8)";s&&r.fillRect(t.x,t.y,t.width,t.height)}),r.fillStyle="rgba(0, 150, 0, 1)",r.fillRect(A.x,A.y,A.width,A.height);const e=A.width/2,i=A.height/5;switch(r.fillStyle="rgba(220, 220, 255, 1)",A.burnerXSide){case"left":r.fillRect(A.x+(A.width-e),A.y+3,e,i);break;case"right":r.fillRect(A.x,A.y+3,e,i);break;default:r.fillRect(A.x+(A.width-e)/2,A.y+3,e,i)}const s=`rgba(255, 100, 0, ${a(.5,.75)})`,o=a(.25,.4)*A.width,n=a(.4,.6)*A.height,h=t=>.6*t,l=t=>(t-h(t))/2;switch(r.fillStyle=s,A.burnerXSide){case"left":r.fillRect(A.x-o,A.y+l(A.height),o,h(A.height));break;case"right":r.fillRect(A.x+A.width,A.y+l(A.height),o,h(A.height))}switch(A.burnerYSide){case"bottom":r.fillRect(A.x+l(A.width),A.y+A.height,h(A.width),n);break;case"top":r.fillRect(A.x+l(A.width),A.y-n,h(A.width),n)}r.font="30px Courier",r.fillStyle="#FFF";const c=`${T}/${j}${T===j?" aww yee":""}`;r.fillText(c,50,50);const u=A.fuel/A.MAX_FUEL,g=300*u,d=u<.25&&t%20>10;r.fillStyle=d?"rgba(255, 0, 0, 0.6)":"rgba(255, 0, 0, 0.3)",r.fillRect(50+g,60,300-g,30),r.fillStyle="rgba(0, 255, 0, 0.5)",r.fillRect(50,60,g,30),L.forEach(t=>t.update())})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUxvb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdmVyc2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vdXNlLnRzIiwid2VicGFjazovLy8uL3NyYy9TdGFyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGxheWVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3RyZXRjaENhbnZhcyIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImN0eCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJnYW1lTG9vcCIsImRyYXciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGVhclJlY3QiLCJyYW5kIiwibWluIiwibWF4IiwicmVhbE1pbiIsInJlYWxNYXgiLCJkaWZmIiwiTWF0aCIsInJhbmRvbSIsInJhbmdlIiwibWF4QW5kT3JNYXBwZXIiLCJtYXBwZXIiLCJBcnJheSIsImtleXMiLCJtYXAiLCJ0b1N0cmluZyIsImRhbXBlbiIsIm51bSIsImJ5IiwiY2VudGVyIiwibmV3TnVtIiwiYm91bmQiLCJiZXR3ZWVuIiwiaW5jbHVzaXZlIiwiZGlmZmVyZW5jZSIsImFicyIsIkdSQVZJVFlfWCIsIkdSQVZJVFlfWSIsIkZSSUNUSU9OIiwiTk9STUFMX0RSQUciLCJtYXNzZXMiLCJzdWJqZWN0IiwidG9Qb3NpdGlvbiIsIm1vdmVkU3ViamVjdCIsImRhcmtNYXR0ZXIiLCJkeCIsIngiLCJkeSIsInkiLCJtb3ZpbmciLCJ0aGlzIiwicmVkdWNlIiwib3ZlcmxhcHMiLCJvYnN0YWNsZSIsImlzSGl0dGluZyIsIm92ZXJsYXAiLCJzb2xpZCIsImVwaGVtZXJhbCIsImJvdHRvbSIsInRvcCIsImRpc3RhbmNlIiwicmlnaHQiLCJsZWZ0IiwiaWdub3JlIiwiZmlsdGVyIiwibWFzcyIsImluY2x1ZGVzIiwib3ZlcmxhcHBpbmdNYXNzZXMiLCJtZW1vIiwidXBkYXRlRGltZW5zaW9uIiwicG9zaXRpb24iLCJ2ZWxvY2l0eSIsImFjY2VsZXJhdGlvbiIsIm5ld1Bvc2l0aW9uIiwibmV3VmVsb2NpdHkiLCJvcHRpb25zIiwic3RhdGlvbmFyeSIsImNvbGxlY3RPblRvdWNoIiwidG91Y2hlZEF0IiwiYXNzaWduIiwicHVzaCIsIm5ld1hEYXRhIiwiYXgiLCJuZXdZRGF0YSIsImF5IiwibmV3WCIsIm5ld1kiLCJuZXdEeCIsIm5ld0R5Iiwic29saWRPdmVybGFwIiwiY29sbGlzaW9uc0Zvck1vdmUiLCJpc0FnYWluc3RUb3BXYWxsIiwiaXNBZ2FpbnN0Qm90dG9tV2FsbCIsImlzQWdhaW5zdExlZnRXYWxsIiwiaXNBZ2FpbnN0UmlnaHRXYWxsIiwidGVybWluYWxWZWxvY2l0eSIsInByZXNzZWQiLCJldmVudCIsInBvcHVsYXRlRnJvbU1vdXNlRXZlbnQiLCJwb3B1bGF0ZUZyb21Ub3VjaEV2ZW50IiwiYnV0dG9ucyIsInRvdWNoZXMiLCJsZW5ndGgiLCJ0b3VjaCIsImNsaWVudFgiLCJjbGllbnRZIiwic2l6ZSIsImJyaWdodG5lc3MiLCJ2ZWN0b3IiLCJiYXNlQnJpZ2h0bmVzcyIsIk1BWF9YIiwiTUFYX1kiLCJwbGF5ZXIiLCJqZXRwYWNrRm9yY2VYIiwiamV0cGFja0ZvcmNlWSIsIk1BWF9GVUVMIiwiTUlOX0ZVRUwiLCJNQVhfRlVFTF9SRUNIQVJHRSIsImZ1ZWxSZWNoYXJnZVJhdGUiLCJmdWVsUmVjaGFyZ2VEZWxheSIsImxhc3RCdXJuIiwiX2Z1ZWwiLCJmdWVsIiwiYnVybmluZyIsIm1vdXNlRGlzdGFuY2UiLCJsZWZ0TWFyZ2luIiwicmlnaHRNYXJnaW4iLCJqZXRwYWNrQWNjZWxlcmF0aW9uIiwiYm90dG9tTWFyZ2luIiwic3VwZXIiLCJheEpldHBhY2siLCJheUpldHBhY2siLCJ1cGRhdGUiLCJEYXRlIiwiZ2V0VGltZSIsInNvbGlkTWFzc2VzIiwiY29sbGVjdGlibGVzIiwiZnJlZU1hc3NlcyIsInBvaW50cyIsIm1heFBvaW50cyIsInN0YXJzIiwic2hvb3RpbmdTdGFycyIsInNldEludGVydmFsIiwibG9vcENvdW50IiwiZm9yRWFjaCIsInN0YXIiLCJpbmRleCIsInR3aW5rbGUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInNwbGljZSIsImhpdHRpbmdNYXNzIiwic3RpbGxQcmVzZW50IiwibXNTaW5jZVRvdWNoIiwicmdWYWx1ZSIsImNlaWwiLCJmYWNlbWFza1dpZHRoIiwiZmFjZW1hc2tIZWlnaHQiLCJidXJuZXJYU2lkZSIsImJ1cm5lckNvbG9yIiwiYnVybmVyTGVuZ3RoWCIsImJ1cm5lckxlbmd0aFkiLCJidXJuZXJBY3Jvc3MiLCJidXJuZXJBY3Jvc3NPZmZzZXQiLCJidXJuZXJZU2lkZSIsImZvbnQiLCJzY29yZVRleHQiLCJmaWxsVGV4dCIsImZ1ZWxSZW1haW5pbmciLCJmdWVsUmVtYWluaW5n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RUFBb0IsSUFFekNoQyxFQUFXTyxRQUFRL0UsR0FBUUEsRUFBS21FIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbmNvbnN0IHN0cmV0Y2hDYW52YXMgPSAoKTogdm9pZCA9PiB7XG4gIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xufTtcblxuc3RyZXRjaENhbnZhcygpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0cmV0Y2hDYW52YXMpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XG5pZiAoIWN0eCkgY29uc29sZS5lcnJvcihcIkNhbnZhcyAnMmQnIGNvbnRleHQgaXMgbm90IHN1cHBvcnRlZC5cIik7XG5cbmV4cG9ydCB7IGN0eCB9O1xuZXhwb3J0IGRlZmF1bHQgY2FudmFzO1xuIiwibGV0IGxvb3BDb3VudCA9IDA7XG5cbmNvbnN0IGdhbWVMb29wID0gKGM6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZHJhdzogKGxvb3BDb3VudDogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCA9PiB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBnYW1lTG9vcChjLCBkcmF3KSk7XG4gIGMuY2xlYXJSZWN0KDAsIDAsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBkcmF3KGxvb3BDb3VudCk7XG4gIGxvb3BDb3VudCArPSAxO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZUxvb3A7XG4iLCJleHBvcnQgY29uc3QgcmFuZCA9IChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgY29uc3QgZGlmZiA9IHJlYWxNYXggLSByZWFsTWluO1xuICByZXR1cm4gcmVhbE1pbiArIChNYXRoLnJhbmRvbSgpICogZGlmZik7XG59O1xuXG4vLyBleHBvcnQgY29uc3QgcmFuZ2UgPSAobWluOiBudW1iZXIsIG1heD86IG51bWJlcik6IG51bWJlcltdID0+IHtcbi8vICAgaWYgKCFtYXgpIHtcbi8vICAgICBtYXggPSBtaW47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbi8vICAgICBtaW4gPSAwOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4vLyAgIH1cbi8vICAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4vLyAgIGNvbnN0IGRpZmYgPSByZWFsTWF4IC0gcmVhbE1pbjtcbi8vICAgY29uc3QgYmFzZUFycmF5ID0gWy4uLkFycmF5KGRpZmYpLmtleXMoKV0ubWFwKG4gPT4gbiArIHJlYWxNaW4pO1xuLy8gICByZXR1cm4gbWF4ID49IG1pbiA/IGJhc2VBcnJheSA6IFtyZWFsTWF4LCAuLi5iYXNlQXJyYXkuc2xpY2UoMSkucmV2ZXJzZSgpXTtcbi8vIH07XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZTxUPihtaW46IG51bWJlciwgLi4ubWF4QW5kT3JNYXBwZXI6IFtdKTogbnVtYmVyW107XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbbnVtYmVyXSk6IG51bWJlcltdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogWyhuOiBudW1iZXIpID0+IFRdKTogVFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlPFQ+KG1pbjogbnVtYmVyLCAuLi5tYXhBbmRPck1hcHBlcjogW251bWJlciwgKG46IG51bWJlcikgPT4gVF0pOiBUW107XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2U8VD4obWluOiBudW1iZXIsIC4uLm1heEFuZE9yTWFwcGVyOiBbXXxbbnVtYmVyfCgobjogbnVtYmVyKSA9PiBUKV18W251bWJlciwgKG46IG51bWJlcikgPT4gVF0pOiAobnVtYmVyfFQpW10ge1xuICBjb25zdCBtYXggPSB0eXBlb2YgbWF4QW5kT3JNYXBwZXJbMF0gPT09ICdudW1iZXInID8gbWF4QW5kT3JNYXBwZXJbMF0gOiAwO1xuICBjb25zdCBtYXBwZXIgPSB0eXBlb2YgbWF4QW5kT3JNYXBwZXJbMF0gPT09ICdmdW5jdGlvbicgPyBtYXhBbmRPck1hcHBlclswXSA6IG1heEFuZE9yTWFwcGVyWzFdO1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgY29uc3QgZGlmZiA9IHJlYWxNYXggLSByZWFsTWluO1xuICByZXR1cm4gWy4uLkFycmF5KGRpZmYpLmtleXMoKV0ubWFwKG4gPT4gKG1hcHBlciA/IG1hcHBlcihuICsgcmVhbE1pbikgOiBuICsgcmVhbE1pbikpO1xufVxuXG5jb25zdCBhID0gcmFuZ2UoMTApO1xuY29uc3QgYiA9IHJhbmdlKDAsIDEwKTtcbmNvbnN0IGMgPSByYW5nZSgwLCBuID0+IG4udG9TdHJpbmcoKSk7XG5jb25zdCBkID0gcmFuZ2UoMCwgMTAsIG4gPT4gbi50b1N0cmluZygpKTtcblxuKHdpbmRvdyBhcyBhbnkpLnJhbmdlID0gcmFuZ2U7XG5cbmV4cG9ydCBjb25zdCBkYW1wZW4gPSAobnVtOiBudW1iZXIsIGJ5OiBudW1iZXIsIGNlbnRlciA9IDApOiBudW1iZXIgPT4ge1xuICAvLyBudW1iZXIgaXMgYWxyZWFkeSBhdCB0aGUgY2VudGVyXG4gIGlmIChudW0gPT09IGNlbnRlcikgcmV0dXJuIGNlbnRlcjtcblxuICAvLyBudW1iZXIgaXMgaGlnaGVyIHRoYW4gdGhlIGNlbnRlcjsgc3VidHJhY3QgYW5kIGRvbid0IG92ZXJzaG9vdCB0aGUgY2VudGVyXG4gIGlmIChudW0gPiBjZW50ZXIpIHtcbiAgICBjb25zdCBuZXdOdW0gPSBudW0gLSBieTtcbiAgICByZXR1cm4gbmV3TnVtIDwgY2VudGVyID8gY2VudGVyIDogbmV3TnVtO1xuICB9XG5cbiAgLy8gbnVtYmVyIGlzIGxvd2VyIHRoYW4gdGhlIGNlbnRlcjsgYWRkIGFuZCBkb24ndCBvdmVyc2hvb3QgdGhlIGNlbnRlclxuICBjb25zdCBuZXdOdW0gPSBudW0gKyBieTtcbiAgcmV0dXJuIG5ld051bSA+IGNlbnRlciA/IGNlbnRlciA6IG5ld051bTtcbn07XG5cbmV4cG9ydCBjb25zdCBib3VuZCA9IChudW06IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGlmIChudW0gPCByZWFsTWluKSByZXR1cm4gcmVhbE1pbjtcbiAgaWYgKG51bSA+IHJlYWxNYXgpIHJldHVybiByZWFsTWF4O1xuICByZXR1cm4gbnVtO1xufTtcblxuZXhwb3J0IGNvbnN0IGJldHdlZW4gPSAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgaW5jbHVzaXZlID0gdHJ1ZSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBbcmVhbE1pbiwgcmVhbE1heF0gPSBtaW4gPCBtYXggPyBbbWluLCBtYXhdIDogW21heCwgbWluXTtcbiAgcmV0dXJuIGluY2x1c2l2ZSA/IChudW0gPj0gcmVhbE1pbiAmJiBudW0gPD0gcmVhbE1heCkgOiAobnVtID4gcmVhbE1pbiAmJiBudW0gPCByZWFsTWF4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaWZmZXJlbmNlID0gKG46IG51bWJlciwgbTogbnVtYmVyKTogbnVtYmVyID0+IE1hdGguYWJzKG4gLSBtKTtcbiIsImltcG9ydCBNYXNzIGZyb20gXCIuL01hc3NcIjtcbmltcG9ydCB7IGJldHdlZW4sIGRpZmZlcmVuY2UgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IGNvbnN0IEdSQVZJVFlfWCA9IDA7IC8vIHB4L2ZyXjJcbmV4cG9ydCBjb25zdCBHUkFWSVRZX1kgPSAxOyAvLyBweC9mcl4yXG5leHBvcnQgY29uc3QgQUlSX1JFU0lTVEFOQ0UgPSAwLjI1OyAvLyBUT0RPXG5leHBvcnQgY29uc3QgRlJJQ1RJT04gPSAwLjI1OyAvLyBUT0RPOiB0aGlzIHNob3VsZCBiZSBkZXBlbmRlbnQgb24gbWFzc1xuZXhwb3J0IGNvbnN0IE5PUk1BTF9EUkFHID0gMTAwOyAvLyBzdXJmYWNlIGFyZWEgaW4gcGl4ZWxzLCBwZXIga2lsb2dyYW1cblxuaW50ZXJmYWNlIFBvaW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBPdmVybGFwIHtcbiAgdG9wOiBudW1iZXI7XG4gIGJvdHRvbTogbnVtYmVyO1xuICBsZWZ0OiBudW1iZXI7XG4gIHJpZ2h0OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBPdmVybGFwcyB7XG4gIHNvbGlkOiBPdmVybGFwO1xuICBlcGhlbWVyYWw6IE92ZXJsYXA7XG59XG5cbmNsYXNzIFVuaXZlcnNlIHtcbiAgcHVibGljIG1hc3NlcyA9IFtdIGFzIE1hc3NbXTtcblxuICBjb2xsaXNpb25zRm9yTW92ZShzdWJqZWN0OiBNYXNzLCB0b1Bvc2l0aW9uOiBQb2ludCk6IE92ZXJsYXBzIHtcbiAgICBjb25zdCBtb3ZlZFN1YmplY3QgPSBuZXcgTWFzcyh7XG4gICAgICAuLi5zdWJqZWN0LFxuICAgICAgLi4udG9Qb3NpdGlvbixcbiAgICAgIGRhcmtNYXR0ZXI6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBkeCA9IG1vdmVkU3ViamVjdC54IC0gc3ViamVjdC54O1xuICAgIGNvbnN0IGR5ID0gbW92ZWRTdWJqZWN0LnkgLSBzdWJqZWN0Lnk7XG4gICAgY29uc3QgbW92aW5nID0ge1xuICAgICAgdXA6IGR5IDwgMCxcbiAgICAgIGRvd246IGR5ID4gMCxcbiAgICAgIGxlZnQ6IGR4IDwgMCxcbiAgICAgIHJpZ2h0OiBkeCA+IDAsXG4gICAgfTtcblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgcmV0dXJuIHRoaXMubWFzc2VzLnJlZHVjZSgob3ZlcmxhcHMsIG9ic3RhY2xlKSA9PiB7XG4gICAgICBpZiAob2JzdGFjbGUgPT09IHN1YmplY3QpIHJldHVybiBvdmVybGFwcztcblxuICAgICAgY29uc3QgaGl0dGluZ09ic3RhY2xlID0gbW92ZWRTdWJqZWN0LmlzSGl0dGluZyhvYnN0YWNsZSk7XG4gICAgICBpZiAoIWhpdHRpbmdPYnN0YWNsZSkgcmV0dXJuIG92ZXJsYXBzO1xuXG4gICAgICBjb25zdCBvdmVybGFwID0gb2JzdGFjbGUuc29saWQgPyBvdmVybGFwcy5zb2xpZCA6IG92ZXJsYXBzLmVwaGVtZXJhbDtcbiAgICAgIGlmIChtb3ZpbmcudXAgJiYgYmV0d2VlbihvYnN0YWNsZS5ib3R0b20sIHN1YmplY3QudG9wLCBtb3ZlZFN1YmplY3QudG9wKSkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRpZmZlcmVuY2Uob2JzdGFjbGUuYm90dG9tLCBtb3ZlZFN1YmplY3QudG9wKTtcbiAgICAgICAgaWYgKG92ZXJsYXAudG9wIDwgZGlzdGFuY2UpIG92ZXJsYXAudG9wID0gZGlzdGFuY2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb3ZpbmcuZG93biAmJiBiZXR3ZWVuKG9ic3RhY2xlLnRvcCwgc3ViamVjdC5ib3R0b20sIG1vdmVkU3ViamVjdC5ib3R0b20pKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZGlmZmVyZW5jZShvYnN0YWNsZS50b3AsIG1vdmVkU3ViamVjdC5ib3R0b20pO1xuICAgICAgICBpZiAob3ZlcmxhcC5ib3R0b20gPCBkaXN0YW5jZSkgb3ZlcmxhcC5ib3R0b20gPSBkaXN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vdmluZy5sZWZ0ICYmIGJldHdlZW4ob2JzdGFjbGUucmlnaHQsIHN1YmplY3QubGVmdCwgbW92ZWRTdWJqZWN0LmxlZnQpKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZGlmZmVyZW5jZShvYnN0YWNsZS5yaWdodCwgbW92ZWRTdWJqZWN0LmxlZnQpO1xuICAgICAgICBpZiAob3ZlcmxhcC5sZWZ0IDwgZGlzdGFuY2UpIG92ZXJsYXAubGVmdCA9IGRpc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICBpZiAobW92aW5nLnJpZ2h0ICYmIGJldHdlZW4ob2JzdGFjbGUubGVmdCwgc3ViamVjdC5yaWdodCwgbW92ZWRTdWJqZWN0LnJpZ2h0KSkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRpZmZlcmVuY2Uob2JzdGFjbGUubGVmdCwgbW92ZWRTdWJqZWN0LnJpZ2h0KTtcbiAgICAgICAgaWYgKG92ZXJsYXAucmlnaHQgPCBkaXN0YW5jZSkgb3ZlcmxhcC5yaWdodCA9IGRpc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3ZlcmxhcHM7XG4gICAgfSwge1xuICAgICAgc29saWQ6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBib3R0b206IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgfSxcbiAgICAgIGVwaGVtZXJhbDoge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgfVxuXG4gIG92ZXJsYXBwaW5nTWFzc2VzKHN1YmplY3Q6IE1hc3MsIHsgaWdub3JlID0gW10gfTogeyBpZ25vcmU/OiBNYXNzW10gfSA9IHt9KTogTWFzc1tdIHtcbiAgICByZXR1cm4gdGhpcy5tYXNzZXMuZmlsdGVyKChtYXNzKSA9PiB7XG4gICAgICBpZiAoc3ViamVjdCA9PT0gbWFzcyB8fCBpZ25vcmUuaW5jbHVkZXMobWFzcykpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBzdWJqZWN0LmlzSGl0dGluZyhtYXNzKTtcbiAgICB9KTtcbiAgfVxuXG4gIG92ZXJsYXAoc3ViamVjdDogTWFzcywgeyBpZ25vcmUgPSBbXSB9OiB7IGlnbm9yZT86IE1hc3NbXSB9ID0ge30pOiBPdmVybGFwIHtcbiAgICBjb25zdCBtYXNzZXMgPSB0aGlzLm92ZXJsYXBwaW5nTWFzc2VzKHN1YmplY3QsIHsgaWdub3JlIH0pO1xuICAgIC8qKlxuICAgICAqICwtLS0tLFxuICAgICAqIHwgICAgfCA8PSBzdWJqZWN0XG4gICAgICogJy0tLS0nXG4gICAgICogLi4uLi4uXG4gICAgICogOiAgICA6IDw9IG1hc3NcbiAgICAgKiBgYGBgYGBcbiAgICAgKi9cbiAgICByZXR1cm4gbWFzc2VzLnJlZHVjZSgobWVtbzogT3ZlcmxhcCwgbWFzcykgPT4ge1xuICAgICAgY29uc3Qgb3ZlcmxhcCA9IG1lbW87XG5cbiAgICAgIC8qKlxuICAgICAgICogLC0tLS0sICAgICwtLS0tLCAgICAsLS4tLSwuLiAgICAsLS0tLSwgICAgLC0tLS0sICAuLiwtLS4tLCAgICAsLS0tLSwgICAgICAsLS0tLSwgICAgLi4sLS0tLSwuLlxuICAgICAgICogfCAgICB8ICAgIHwgLi4ufC4uICB8IDogIHwgOiAgICB8ICAgIHwgIC4ufC4uLiB8ICA6IHwgIDogfCAgICB8ICAgIHwgICAgLi58Li4uLnwuLiAgOiB8ICAgIHwgOlxuICAgICAgICogJy0uLS0nLi4gICctOi0tJyA6ICAnLS0tLSdgYCAgLi4nLS0uLScgIDogJy0tOi0nICBgYCctLS0tJyAgLi4nLS0tLScuLiAgOiAnLS0tLScgOiAgYGAnLS0tLSdgYFxuICAgICAgICogICA6ICAgIDogICAgYGBgYGBgICAgICAgICAgICAgOiAgICA6ICAgIGBgYGBgYCAgICAgICAgICAgICAgOiAgICAgICAgOiAgYGBgYGBgYGBgYFxuICAgICAgICogICBgYGBgYGAgICAgICAgICAgICAgICAgICAgICAgYGBgYGBgICAgICAgICAgICAgICAgICAgICAgICAgYGBgYGBgYGBgYFxuICAgICAgICovXG4gICAgICBjb25zdCBtYXNzVG9wT3ZlcmxhcCA9IG1hc3MudG9wID49IHN1YmplY3QudG9wICYmIG1hc3MudG9wIDw9IHN1YmplY3QuYm90dG9tO1xuICAgICAgaWYgKG1hc3NUb3BPdmVybGFwKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gc3ViamVjdC5ib3R0b20gLSBtYXNzLnRvcDtcbiAgICAgICAgaWYgKG92ZXJsYXAuYm90dG9tIDwgZGlzdGFuY2UpIG92ZXJsYXAuYm90dG9tID0gZGlzdGFuY2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogLi4uLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4uLi4gICAgICAgICAgICAgICAgICAgICAuLi4uLi4uLi4uXG4gICAgICAgKiA6ICAgIDogICAgLi4uLi4uICAgICAgICAgICAgICAgIDogICAgOiAgIC4uLi4uLiAgICAgICAgICAgIDogICAgICAgIDogIC4uLi4uLi4uLi5cbiAgICAgICAqIGBgLC0tLS0sICA6ICwtLTotLCAgLi4sLS0tLSwgICwtYC0tLGBgICwtOi0tLCA6ICAsLS0tLSwuLiAgYGAsLS0tLSxgYCAgOiAsLS0tLSwgOiAgLi4sLS0tLSwuLlxuICAgICAgICogICB8ICAgIHwgIGBgfGBgYCB8ICA6IHwgIDogfCAgfCAgICB8ICAgfCBgYGB8YGAgIHwgOiAgfCA6ICAgIHwgICAgfCAgICBgYHxgYGBgfGBgICA6IHwgICAgfCA6XG4gICAgICAgKiAgICctLS0tJyAgICAnLS0tLScgIGBgJy0tYC0nICAnLS0tLScgICAnLS0tLScgICAgJy1gLS0nYGAgICAgJy0tLS0nICAgICAgJy0tLS0nICAgIGBgJy0tLS0nYGBcbiAgICAgICAqL1xuICAgICAgY29uc3QgbWFzc0JvdHRvbU92ZXJsYXAgPSBtYXNzLmJvdHRvbSA8PSBzdWJqZWN0LmJvdHRvbSAmJiBtYXNzLmJvdHRvbSA+PSBzdWJqZWN0LnRvcDtcbiAgICAgIGlmIChtYXNzQm90dG9tT3ZlcmxhcCkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IG1hc3MuYm90dG9tIC0gc3ViamVjdC50b3A7XG4gICAgICAgIGlmIChvdmVybGFwLnRvcCA8IGRpc3RhbmNlKSBvdmVybGFwLnRvcCA9IGRpc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqICAgICAgLi4uLi4uXG4gICAgICAgKiAsLS0tLTogICAgOlxuICAgICAgICogfCAgICB8YGBgYGBcbiAgICAgICAqICctLS0tJ1xuICAgICAgICogICAuLi4uLi5cbiAgICAgICAqIC4tOi0tLiA6XG4gICAgICAgKiB8IGBgYHxgYFxuICAgICAgICogJy0tLS0nXG4gICAgICAgKiAuLi4uLi5cbiAgICAgICAqIDotLS0tOlxuICAgICAgICogfGBgYGB8XG4gICAgICAgKiAnLS0tLSdcbiAgICAgICAqICwtLS0tLFxuICAgICAgICogfCAgICB8Li4uLi5cbiAgICAgICAqICctLS0tOiAgICA6XG4gICAgICAgKiAgICAgIGBgYGBgYFxuICAgICAgICogLC0tLS0sXG4gICAgICAgKiB8IC4uLnwuLlxuICAgICAgICogJy06LS0nIDpcbiAgICAgICAqICAgYGBgYGBgXG4gICAgICAgKiAsLS0tLSxcbiAgICAgICAqIHwuLi4ufFxuICAgICAgICogOi0tLS06XG4gICAgICAgKiBgYGBgYGBcbiAgICAgICAqICAgICAgLi4uLi4uXG4gICAgICAgKiAsLS0tLTogICAgOlxuICAgICAgICogfCAgICB8ICAgIDpcbiAgICAgICAqICctLS0tOiAgICA6XG4gICAgICAgKiAgICAgIGBgYGBgYFxuICAgICAgICogICAuLi4uLi5cbiAgICAgICAqICwtOi0tLCA6XG4gICAgICAgKiB8IDogIHwgOlxuICAgICAgICogJy06LS0nIDpcbiAgICAgICAqICAgYGBgYGBgXG4gICAgICAgKiAuLi4uLi5cbiAgICAgICAqIDotLS0tOlxuICAgICAgICogfCAgICB8XG4gICAgICAgKiA6LS0tLTpcbiAgICAgICAqIGBgYGBgYFxuICAgICAgICovXG4gICAgICBjb25zdCBtYXNzTGVmdE92ZXJsYXAgPSBtYXNzLmxlZnQgPj0gc3ViamVjdC5sZWZ0ICYmIG1hc3MubGVmdCA8PSBzdWJqZWN0LnJpZ2h0O1xuICAgICAgaWYgKG1hc3NMZWZ0T3ZlcmxhcCkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHN1YmplY3QucmlnaHQgLSBtYXNzLmxlZnQ7XG4gICAgICAgIGlmIChvdmVybGFwLnJpZ2h0IDwgZGlzdGFuY2UpIG92ZXJsYXAucmlnaHQgPSBkaXN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiAuLi4uLi5cbiAgICAgICAqIDogICAgOi0tLS0sXG4gICAgICAgKiBgYGBgYHwgICAgfFxuICAgICAgICogICAgICAnLS0tLSdcbiAgICAgICAqICAgIC4uLi4uLlxuICAgICAgICogICAgOiAsLS06LSxcbiAgICAgICAqICAgIGBgfGBgYCB8XG4gICAgICAgKiAgICAgICctLS0tJ1xuICAgICAgICogICAgICAuLi4uLi5cbiAgICAgICAqICAgICAgOi0tLS06XG4gICAgICAgKiAgICAgIHxgYGBgfFxuICAgICAgICogICAgICAnLS0tLSdcbiAgICAgICAqICAgICAgLC0tLS0sXG4gICAgICAgKiAuLi4uLnwgICAgfFxuICAgICAgICogOiAgICA6LS0tLSdcbiAgICAgICAqIGBgYGBgYFxuICAgICAgICogICAgICAsLS0tLSxcbiAgICAgICAqICAgIC4ufC4uLiB8XG4gICAgICAgKiAgICA6ICctLTotJ1xuICAgICAgICogICAgYGBgYGBgXG4gICAgICAgKiAgICAgICwtLS0tLFxuICAgICAgICogICAgICB8Li4uLnxcbiAgICAgICAqICAgICAgOi0tLS06XG4gICAgICAgKiAgICAgIGBgYGBgYFxuICAgICAgICogIC4uLi4uLlxuICAgICAgICogIDogICAgLC0tLS0sXG4gICAgICAgKiAgOiAgICB8ICAgIHxcbiAgICAgICAqICA6ICAgICctLS0tJ1xuICAgICAgICogIGBgYGBgYFxuICAgICAgICogICAgLi4uLi4uXG4gICAgICAgKiAgICA6ICwtLTotLFxuICAgICAgICogICAgOiB8ICA6IHxcbiAgICAgICAqICAgIDogJy0tOi0nXG4gICAgICAgKiAgICBgYGBgYGBcbiAgICAgICAqICAgICAgLi4uLi4uXG4gICAgICAgKiAgICAgIDotLS0tOlxuICAgICAgICogICAgICB8ICAgIHxcbiAgICAgICAqICAgICAgOi0tLS06XG4gICAgICAgKiAgICAgIGBgYGBgYFxuICAgICAgICovXG4gICAgICBjb25zdCBtYXNzUmlnaHRPdmVybGFwID0gbWFzcy5yaWdodCA+PSBzdWJqZWN0LmxlZnQgJiYgbWFzcy5yaWdodCA8PSBzdWJqZWN0LnJpZ2h0O1xuICAgICAgaWYgKG1hc3NSaWdodE92ZXJsYXApIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBtYXNzLnJpZ2h0IC0gc3ViamVjdC5sZWZ0O1xuICAgICAgICBpZiAob3ZlcmxhcC5sZWZ0IDwgZGlzdGFuY2UpIG92ZXJsYXAubGVmdCA9IGRpc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICAvLyBJJ20gbWlzc2luZyB0b3RhbCBvdmVybGFwcyBhbmQgdG90YWwgZWNsaXBzZXMgYnV0IEkgZG9uJ3QgZ2l2ZSBhIHNoaXRcbiAgICAgIHJldHVybiBvdmVybGFwO1xuICAgIH0sIHtcbiAgICAgIHRvcDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1bml2ZXJzZSA9IG5ldyBVbml2ZXJzZSgpO1xuZXhwb3J0IGRlZmF1bHQgdW5pdmVyc2U7XG4iLCJpbXBvcnQgdW5pdmVyc2UsIHsgR1JBVklUWV9YLCBHUkFWSVRZX1ksIEZSSUNUSU9OLCBOT1JNQUxfRFJBRyB9IGZyb20gXCIuL3VuaXZlcnNlXCI7XG5pbXBvcnQgeyBkYW1wZW4sIGJvdW5kIH0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5cbmNvbnN0IHVwZGF0ZURpbWVuc2lvbiA9IChcbiAgcG9zaXRpb246IG51bWJlcixcbiAgdmVsb2NpdHk6IG51bWJlcixcbiAgYWNjZWxlcmF0aW9uOiBudW1iZXIsXG4gIG1pbjogbnVtYmVyLFxuICBtYXg6IG51bWJlcixcbik6IHsgcG9zaXRpb246IG51bWJlcjsgdmVsb2NpdHk6IG51bWJlciB9ID0+IHtcbiAgbGV0IG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gKyB2ZWxvY2l0eTtcbiAgbGV0IG5ld1ZlbG9jaXR5ID0gdmVsb2NpdHkgKyBhY2NlbGVyYXRpb247XG4gIGlmIChuZXdQb3NpdGlvbiA+IG1heCkge1xuICAgIG5ld1Bvc2l0aW9uID0gbWF4O1xuICAgIG5ld1ZlbG9jaXR5ID0gMDtcbiAgfSBlbHNlIGlmIChuZXdQb3NpdGlvbiA8IG1pbikge1xuICAgIG5ld1Bvc2l0aW9uID0gbWluO1xuICAgIG5ld1ZlbG9jaXR5ID0gMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IG5ld1Bvc2l0aW9uLFxuICAgIHZlbG9jaXR5OiBuZXdWZWxvY2l0eSxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hc3Mge1xuICBwdWJsaWMgbWFzcyA9IDE7IC8vIGtnXG4gIHB1YmxpYyB4ID0gMDsgLy8gcHhcbiAgcHVibGljIHkgPSAwOyAvLyBweFxuICBwdWJsaWMgZHggPSAwOyAvLyBweC9mclxuICBwdWJsaWMgZHkgPSAwOyAvLyBweC9mclxuICBwdWJsaWMgd2lkdGggPSAyNTsgLy8gcHhcbiAgcHVibGljIGhlaWdodCA9IDI1OyAvLyBweFxuICBwdWJsaWMgc3RhdGlvbmFyeSA9IGZhbHNlOyAvLyBkb2Vzbid0IG1vdmVcbiAgcHVibGljIGRhcmtNYXR0ZXIgPSBmYWxzZTsgLy8gZG9lc24ndCBpbnRlcmFjdFxuICBwdWJsaWMgc29saWQgPSB0cnVlOyAvLyBjYW4ndCBwYXNzIHRocm91Z2ggaXRcbiAgcHVibGljIGNvbGxlY3RPblRvdWNoID0gZmFsc2U7XG4gIHB1YmxpYyB0b3VjaGVkQXQgPSBudWxsIGFzIG51bGx8bnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBQYXJ0aWFsPE1hc3M+KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zKTtcbiAgICBpZiAoIXRoaXMuZGFya01hdHRlcikgdW5pdmVyc2UubWFzc2VzLnB1c2godGhpcyk7XG4gIH1cblxuICBnZXQgZHJhZ0NvZWZmaWNpZW50KCk6IG51bWJlciB7XG4gICAgY29uc3Qgc3VyZmFjZUFyZWEgPSAoMiAqIHRoaXMud2lkdGgpICsgKDIgKiB0aGlzLmhlaWdodCk7XG4gICAgcmV0dXJuIChzdXJmYWNlQXJlYSAvIHRoaXMubWFzcykgLyBOT1JNQUxfRFJBRztcbiAgfVxuXG4gIGdldCBheCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5zdGF0aW9uYXJ5ID8gMCA6IEdSQVZJVFlfWDsgfVxuICBnZXQgYXkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuc3RhdGlvbmFyeSA/IDAgOiBHUkFWSVRZX1k7IH1cblxuICBnZXQgaXNBZ2FpbnN0VG9wV2FsbCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMueSA9PT0gMDsgfVxuICBnZXQgaXNBZ2FpbnN0Qm90dG9tV2FsbCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMueSA9PT0gd2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5oZWlnaHQ7IH1cbiAgZ2V0IGlzQWdhaW5zdExlZnRXYWxsKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy54ID09PSAwOyB9XG4gIGdldCBpc0FnYWluc3RSaWdodFdhbGwoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnggPT09IHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy53aWR0aDsgfVxuXG4gIGdldCB0ZXJtaW5hbFZlbG9jaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDIwOyAvLyBUT0RPOiBzaG91bGQgYmUgYmFzZWQgb24gZHJhZ1xuICB9XG5cbiAgZ2V0IHRvcCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy55OyB9XG4gIGdldCByaWdodCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDsgfVxuICBnZXQgYm90dG9tKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDsgfVxuICBnZXQgbGVmdCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy54OyB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IG5ld1hEYXRhID0gdXBkYXRlRGltZW5zaW9uKHRoaXMueCwgdGhpcy5keCwgdGhpcy5heCwgdGhpcy53aWR0aCwgd2luZG93LmlubmVyV2lkdGggLSB0aGlzLndpZHRoKTtcbiAgICBjb25zdCBuZXdZRGF0YSA9IHVwZGF0ZURpbWVuc2lvbih0aGlzLnksIHRoaXMuZHksIHRoaXMuYXksIHRoaXMuaGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLmhlaWdodCk7XG5cbiAgICBsZXQgbmV3WCA9IG5ld1hEYXRhLnBvc2l0aW9uO1xuICAgIGxldCBuZXdZID0gbmV3WURhdGEucG9zaXRpb247XG4gICAgbGV0IG5ld0R4ID0gbmV3WERhdGEudmVsb2NpdHk7XG4gICAgbGV0IG5ld0R5ID0gbmV3WURhdGEudmVsb2NpdHk7XG5cbiAgICBjb25zdCBvdmVybGFwcyA9IHVuaXZlcnNlLmNvbGxpc2lvbnNGb3JNb3ZlKHRoaXMsIHsgeDogbmV3WCwgeTogbmV3WSB9KTtcbiAgICBjb25zdCBzb2xpZE92ZXJsYXAgPSBvdmVybGFwcy5zb2xpZDtcblxuICAgIGlmIChzb2xpZE92ZXJsYXAucmlnaHQgPiAwKSB7XG4gICAgICBuZXdYIC09IHNvbGlkT3ZlcmxhcC5yaWdodDtcbiAgICAgIG5ld0R4ID0gMDtcbiAgICB9IGVsc2UgaWYgKHNvbGlkT3ZlcmxhcC5sZWZ0ID4gMCkge1xuICAgICAgbmV3WCArPSBzb2xpZE92ZXJsYXAubGVmdDtcbiAgICAgIG5ld0R4ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoc29saWRPdmVybGFwLmJvdHRvbSA+IDApIHtcbiAgICAgIG5ld1kgLT0gc29saWRPdmVybGFwLmJvdHRvbTtcbiAgICAgIG5ld0R5ID0gMDtcbiAgICB9IGVsc2UgaWYgKHNvbGlkT3ZlcmxhcC50b3AgPiAwKSB7XG4gICAgICBuZXdZICs9IHNvbGlkT3ZlcmxhcC50b3A7XG4gICAgICBuZXdEeSA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy54ID0gbmV3WDtcbiAgICB0aGlzLnkgPSBuZXdZO1xuXG4gICAgaWYgKHRoaXMuaXNBZ2FpbnN0VG9wV2FsbCB8fCB0aGlzLmlzQWdhaW5zdEJvdHRvbVdhbGwgfHwgc29saWRPdmVybGFwLnRvcCB8fCBzb2xpZE92ZXJsYXAuYm90dG9tKSB7XG4gICAgICBuZXdEeCA9IGRhbXBlbihuZXdEeCwgRlJJQ1RJT04pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0FnYWluc3RMZWZ0V2FsbCB8fCB0aGlzLmlzQWdhaW5zdFJpZ2h0V2FsbCB8fCBzb2xpZE92ZXJsYXAubGVmdCB8fCBzb2xpZE92ZXJsYXAucmlnaHQpIHtcbiAgICAgIG5ld0R5ID0gZGFtcGVuKG5ld0R5LCBGUklDVElPTik7XG4gICAgfVxuXG4gICAgdGhpcy5keCA9IGJvdW5kKG5ld0R4LCAtMSAqIHRoaXMudGVybWluYWxWZWxvY2l0eSwgdGhpcy50ZXJtaW5hbFZlbG9jaXR5KTtcbiAgICB0aGlzLmR5ID0gYm91bmQobmV3RHksIC0xICogdGhpcy50ZXJtaW5hbFZlbG9jaXR5LCB0aGlzLnRlcm1pbmFsVmVsb2NpdHkpO1xuICB9XG5cbiAgaXNIaXR0aW5nKG1hc3M6IE1hc3MpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5yaWdodCA+PSBtYXNzLmxlZnRcbiAgICAgICYmIHRoaXMubGVmdCA8PSBtYXNzLnJpZ2h0XG4gICAgICAmJiB0aGlzLmJvdHRvbSA+PSBtYXNzLnRvcFxuICAgICAgJiYgdGhpcy50b3AgPD0gbWFzcy5ib3R0b21cbiAgICApO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgTW91c2Uge1xuICBwdWJsaWMgeCA9IDA7XG4gIHB1YmxpYyB5ID0gMDtcbiAgcHVibGljIHByZXNzZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tTW91c2VFdmVudChldmVudCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tTW91c2VFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbVRvdWNoRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLnggPSBldmVudC54O1xuICAgIHRoaXMueSA9IGV2ZW50Lnk7XG4gICAgdGhpcy5wcmVzc2VkID0gZXZlbnQuYnV0dG9ucyA9PT0gMTtcbiAgfVxuXG4gIHBvcHVsYXRlRnJvbVRvdWNoRXZlbnQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB7IHRvdWNoZXMgfSA9IGV2ZW50O1xuICAgIGlmICh0b3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRvdWNoID0gdG91Y2hlc1swXTtcbiAgICAgIHRoaXMueCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICB0aGlzLnkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbW91c2UgPSBuZXcgTW91c2UoKTtcblxuZXhwb3J0IGRlZmF1bHQgbW91c2U7XG4iLCJpbXBvcnQgeyByYW5kLCBib3VuZCB9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFyIHtcbiAgcHVibGljIHg6IG51bWJlcjtcbiAgcHVibGljIHk6IG51bWJlcjtcbiAgcHVibGljIHNpemU6IG51bWJlcjtcbiAgcHVibGljIGJyaWdodG5lc3M6IG51bWJlcjtcbiAgcHVibGljIHZlY3RvcjogcmVhZG9ubHkgW251bWJlciwgbnVtYmVyXTtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgeyBzaXplLCBicmlnaHRuZXNzLCB2ZWN0b3IgfTogUGFydGlhbDxTdGFyPiA9IHt9KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMuc2l6ZSA9IHNpemUgfHwgcmFuZCgxLCA1KTtcbiAgICBjb25zdCBiYXNlQnJpZ2h0bmVzcyA9ICh0eXBlb2YgYnJpZ2h0bmVzcyA9PT0gJ3VuZGVmaW5lZCcgPyBNYXRoLnJhbmRvbSgpIDogYnJpZ2h0bmVzcyk7XG4gICAgdGhpcy5icmlnaHRuZXNzID0gYm91bmQoYmFzZUJyaWdodG5lc3MsIDAsIDEpO1xuICAgIHRoaXMudmVjdG9yID0gdmVjdG9yIHx8IFstMSwgMV07XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1jbGFzc2VzLXBlci1maWxlICovXG5cbmltcG9ydCB7IGN0eCB9IGZyb20gJy4vY2FudmFzJztcbmltcG9ydCBnYW1lTG9vcCBmcm9tICcuL2dhbWVMb29wJztcbmltcG9ydCBNYXNzIGZyb20gJy4vTWFzcyc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vUGxheWVyJztcbmltcG9ydCB7IHJhbmdlLCByYW5kIH0gZnJvbSAnLi91dGlsaXRpZXMnO1xuaW1wb3J0IFN0YXIgZnJvbSAnLi9TdGFyJztcblxuY29uc3QgRVBIRU1FUkFMX0RJU0FQUEVBUkFOQ0VfVElNRSA9IDIwMDtcbmNvbnN0IE1BWF9YID0gd2luZG93LmlubmVyV2lkdGg7XG5jb25zdCBNQVhfWSA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuY29uc3QgcGxheWVyID0gbmV3IFBsYXllcigpO1xuXG5jb25zdCBzb2xpZE1hc3NlcyA9IHJhbmdlKDEwKS5tYXAoKCkgPT4ge1xuICByZXR1cm4gbmV3IE1hc3Moe1xuICAgIHg6IHJhbmQoMCwgTUFYX1gpLFxuICAgIHk6IHJhbmQoMCwgTUFYX1kpLFxuICAgIHdpZHRoOiByYW5kKDUwLCAxNTApLFxuICAgIGhlaWdodDogcmFuZCg1MCwgMTUwKSxcbiAgICBzdGF0aW9uYXJ5OiB0cnVlLFxuICB9KTtcbn0pO1xuXG5jb25zdCBjb2xsZWN0aWJsZXMgPSByYW5nZSgxMCkubWFwKCgpID0+IHtcbiAgcmV0dXJuIG5ldyBNYXNzKHtcbiAgICBtYXNzOiByYW5kKDAuNSwgNSksXG4gICAgeDogcmFuZCgwLCBNQVhfWCksXG4gICAgeTogcmFuZCgwLCBNQVhfWSksXG4gICAgd2lkdGg6IDI1LFxuICAgIGhlaWdodDogMjUsXG4gICAgc29saWQ6IGZhbHNlLFxuICAgIHN0YXRpb25hcnk6IGZhbHNlLFxuICAgIGNvbGxlY3RPblRvdWNoOiB0cnVlLFxuICB9KTtcbn0pO1xuXG5jb25zdCBtYXNzZXMgPSBbLi4uc29saWRNYXNzZXMsIC4uLmNvbGxlY3RpYmxlc107XG5jb25zdCBmcmVlTWFzc2VzID0gW3BsYXllciwgLi4ubWFzc2VzLmZpbHRlcihtYXNzID0+ICFtYXNzLnN0YXRpb25hcnkpXTtcbmxldCBwb2ludHMgPSAwO1xuY29uc3QgbWF4UG9pbnRzID0gY29sbGVjdGlibGVzLmxlbmd0aDtcblxuY29uc3Qgc3RhcnMgPSByYW5nZSgxMDAsICgpID0+IG5ldyBTdGFyKHJhbmQoMCwgTUFYX1gpLCByYW5kKDAsIE1BWF9ZKSkpO1xuXG5jb25zdCBzaG9vdGluZ1N0YXJzID0gW10gYXMgU3RhcltdO1xuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICBjb25zdCBbeCwgeV0gPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gW3JhbmQoMjUwLCBNQVhfWCksIDBdIDogW01BWF9YLCByYW5kKDAsIE1BWF9ZIC0gMjUwKV07XG4gIGNvbnN0IHZlY3RvciA9IFstMTAsIDEwXSBhcyBjb25zdDtcbiAgc2hvb3RpbmdTdGFycy5wdXNoKG5ldyBTdGFyKHgsIHksIHsgYnJpZ2h0bmVzczogMSwgdmVjdG9yIH0pKTtcbn0sIDIwMDApO1xuXG5nYW1lTG9vcChjdHgsIChsb29wQ291bnQpID0+IHtcbiAgLy8gc3RhcnMuZm9yRWFjaCgoeyB4LCB5LCBzaXplLCBicmlnaHRuZXNzIH0sIGluZGV4KSA9PiB7XG4gIC8vICAgY29uc3QgdHdpbmtsZSA9IGJyaWdodG5lc3MgLSBNYXRoLnJhbmRvbSgpO1xuICAvLyAgIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgyNTUsIDI1NSwgMjU1LCAkeyhsb29wQ291bnQgKyBpbmRleCkgJSAyMCA9PT0gMCA/IHR3aW5rbGUgOiBicmlnaHRuZXNzfSlgO1xuICAvLyAgIGN0eC5maWxsUmVjdCh4LCB5LCBzaXplLCBzaXplKTtcbiAgLy8gfSk7XG4gIHN0YXJzLmZvckVhY2goKHN0YXIsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgeyB4LCB5LCBzaXplLCBicmlnaHRuZXNzLCB2ZWN0b3IgfSA9IHN0YXI7XG4gICAgY29uc3QgdHdpbmtsZSA9IGJyaWdodG5lc3MgLSBNYXRoLnJhbmRvbSgpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgyNTUsIDI1NSwgMjU1LCAkeyhsb29wQ291bnQgKyBpbmRleCkgJSAyMCA9PT0gMCA/IHR3aW5rbGUgOiBicmlnaHRuZXNzfSlgO1xuICAgIGN0eC5maWxsUmVjdCh4LCB5LCBzaXplLCBzaXplKTtcbiAgICAvLyBpZiAobG9vcENvdW50ICUgMTAgPT09IDApIHtcbiAgICBzdGFyLnggKz0gdmVjdG9yWzBdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgc3Rhci55ICs9IHZlY3RvclsxXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIC8vIH1cbiAgICBpZiAoc3Rhci54IDwgMCB8fCBzdGFyLnggPiBNQVhfWCB8fCBzdGFyLnkgPCAwIHx8IHN0YXIueSA+IE1BWF9ZKSB7XG4gICAgICBjb25zdCBbbmV3WCwgbmV3WV0gPSBNYXRoLnJhbmRvbSgpID4gMC41ID8gW3JhbmQoMCwgTUFYX1gpLCAwXSA6IFtNQVhfWCwgcmFuZCgwLCBNQVhfWSldO1xuICAgICAgc3Rhci54ID0gbmV3WDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgc3Rhci55ID0gbmV3WTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIH1cbiAgfSk7XG5cbiAgc2hvb3RpbmdTdGFycy5mb3JFYWNoKChzdGFyLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHsgeCwgeSwgc2l6ZSwgYnJpZ2h0bmVzcywgdmVjdG9yIH0gPSBzdGFyO1xuICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgyNTUsIDI1NSwgMjU1LCAke2JyaWdodG5lc3N9KWA7XG4gICAgY3R4LmZpbGxSZWN0KHgsIHksIHNpemUsIHNpemUpO1xuICAgIHN0YXIueCArPSB2ZWN0b3JbMF07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBzdGFyLnkgKz0gdmVjdG9yWzFdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgaWYgKHN0YXIueCA8IDAgfHwgc3Rhci54ID4gTUFYX1ggfHwgc3Rhci55IDwgMCB8fCBzdGFyLnkgPiBNQVhfWSkge1xuICAgICAgc2hvb3RpbmdTdGFycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfSk7XG5cbiAgbWFzc2VzLmZvckVhY2goKG1hc3MsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaGl0dGluZ01hc3MgPSBwbGF5ZXIuaXNIaXR0aW5nKG1hc3MpO1xuICAgIGxldCBzdGlsbFByZXNlbnQgPSB0cnVlO1xuXG4gICAgaWYgKG1hc3Muc29saWQpIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuNyknO1xuICAgIH0gZWxzZSBpZiAoaGl0dGluZ01hc3MgJiYgIW1hc3MudG91Y2hlZEF0KSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMjU1LCAwLjgpJztcbiAgICAgIG1hc3MudG91Y2hlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHBsYXllci5mdWVsICs9IDAuMjUgKiBwbGF5ZXIuTUFYX0ZVRUw7XG4gICAgfSBlbHNlIGlmIChtYXNzLmNvbGxlY3RPblRvdWNoICYmIG1hc3MudG91Y2hlZEF0KSB7XG4gICAgICBjb25zdCBtc1NpbmNlVG91Y2ggPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIG1hc3MudG91Y2hlZEF0O1xuICAgICAgaWYgKG1zU2luY2VUb3VjaCA+IEVQSEVNRVJBTF9ESVNBUFBFQVJBTkNFX1RJTUUpIHtcbiAgICAgICAgbWFzc2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHN0aWxsUHJlc2VudCA9IGZhbHNlO1xuICAgICAgICBwb2ludHMgKz0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJnVmFsdWUgPSBNYXRoLmNlaWwoKG1zU2luY2VUb3VjaCAvIEVQSEVNRVJBTF9ESVNBUFBFQVJBTkNFX1RJTUUpICogMjU1KTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2JhKCR7cmdWYWx1ZX0sICR7cmdWYWx1ZX0sIDI1NSwgMC44KWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAxMDAsIDI1NSwgMC44KSc7XG4gICAgfVxuXG4gICAgaWYgKHN0aWxsUHJlc2VudCkgY3R4LmZpbGxSZWN0KG1hc3MueCwgbWFzcy55LCBtYXNzLndpZHRoLCBtYXNzLmhlaWdodCk7XG4gIH0pO1xuXG4gIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAxNTAsIDAsIDEpJztcbiAgY3R4LmZpbGxSZWN0KHBsYXllci54LCBwbGF5ZXIueSwgcGxheWVyLndpZHRoLCBwbGF5ZXIuaGVpZ2h0KTtcblxuICBjb25zdCBmYWNlbWFza0NvbG9yID0gJ3JnYmEoMjIwLCAyMjAsIDI1NSwgMSknO1xuICBjb25zdCBmYWNlbWFza1dpZHRoID0gcGxheWVyLndpZHRoIC8gMjtcbiAgY29uc3QgZmFjZW1hc2tIZWlnaHQgPSBwbGF5ZXIuaGVpZ2h0IC8gNTtcbiAgY29uc3QgZmFjZW1hc2tPZmZzZXRZID0gMztcbiAgY3R4LmZpbGxTdHlsZSA9IGZhY2VtYXNrQ29sb3I7XG4gIHN3aXRjaCAocGxheWVyLmJ1cm5lclhTaWRlKSB7XG4gICAgY2FzZSAnbGVmdCc6IGN0eC5maWxsUmVjdChwbGF5ZXIueCArIChwbGF5ZXIud2lkdGggLSBmYWNlbWFza1dpZHRoKSwgcGxheWVyLnkgKyBmYWNlbWFza09mZnNldFksIGZhY2VtYXNrV2lkdGgsIGZhY2VtYXNrSGVpZ2h0KTsgYnJlYWs7XG4gICAgY2FzZSAncmlnaHQnOiBjdHguZmlsbFJlY3QocGxheWVyLngsIHBsYXllci55ICsgZmFjZW1hc2tPZmZzZXRZLCBmYWNlbWFza1dpZHRoLCBmYWNlbWFza0hlaWdodCk7IGJyZWFrO1xuICAgIGRlZmF1bHQ6IGN0eC5maWxsUmVjdChwbGF5ZXIueCArICgocGxheWVyLndpZHRoIC0gZmFjZW1hc2tXaWR0aCkgLyAyKSwgcGxheWVyLnkgKyBmYWNlbWFza09mZnNldFksIGZhY2VtYXNrV2lkdGgsIGZhY2VtYXNrSGVpZ2h0KTsgYnJlYWs7XG4gIH1cblxuICBjb25zdCBidXJuZXJDb2xvciA9IGByZ2JhKDI1NSwgMTAwLCAwLCAke3JhbmQoMC41LCAwLjc1KX0pYDtcbiAgY29uc3QgYnVybmVyTGVuZ3RoWCA9IHJhbmQoMC4yNSwgMC40KSAqIHBsYXllci53aWR0aDtcbiAgY29uc3QgYnVybmVyTGVuZ3RoWSA9IHJhbmQoMC40LCAwLjYpICogcGxheWVyLmhlaWdodDtcbiAgY29uc3QgYnVybmVyQWNyb3NzID0gKHdpZHRoOiBudW1iZXIpOiBudW1iZXIgPT4gMC42ICogd2lkdGg7XG4gIGNvbnN0IGJ1cm5lckFjcm9zc09mZnNldCA9ICh3aWR0aDogbnVtYmVyKTogbnVtYmVyID0+ICh3aWR0aCAtIGJ1cm5lckFjcm9zcyh3aWR0aCkpIC8gMjtcblxuICBjdHguZmlsbFN0eWxlID0gYnVybmVyQ29sb3I7XG4gIHN3aXRjaCAocGxheWVyLmJ1cm5lclhTaWRlKSB7XG4gICAgY2FzZSAnbGVmdCc6IGN0eC5maWxsUmVjdChcbiAgICAgIHBsYXllci54IC0gYnVybmVyTGVuZ3RoWCwgLy8gcG9zaXRpb25lZCBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBwbGF5ZXJcbiAgICAgIHBsYXllci55ICsgYnVybmVyQWNyb3NzT2Zmc2V0KHBsYXllci5oZWlnaHQpLCAvLyBjZW50ZXJlZCBvbiB0aGUgWSBheGlzXG4gICAgICBidXJuZXJMZW5ndGhYLCAvLyBsb25nIHRhaWwgb3JpZW50ZWQgYWxvbmcgdGhlIFggYXhpc1xuICAgICAgYnVybmVyQWNyb3NzKHBsYXllci5oZWlnaHQpLCAvLyBjcm9zcy1zZWN0aW9uIG9yaWVudGVkIGFsb25nIHRoZSBZIGF4aXNcbiAgICApOyBicmVhaztcbiAgICBjYXNlICdyaWdodCc6IGN0eC5maWxsUmVjdChcbiAgICAgIHBsYXllci54ICsgcGxheWVyLndpZHRoLCAvLyBwb3NpdGlvbmVkIG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSBwbGF5ZXJcbiAgICAgIHBsYXllci55ICsgYnVybmVyQWNyb3NzT2Zmc2V0KHBsYXllci5oZWlnaHQpLCAvLyBjZW50ZXJlZCBvbiB0aGUgWSBheGlzXG4gICAgICBidXJuZXJMZW5ndGhYLCAvLyBsb25nIHRhaWwgb3JpZW50ZWQgYWxvbmcgdGhlIFggYXhpc1xuICAgICAgYnVybmVyQWNyb3NzKHBsYXllci5oZWlnaHQpLCAvLyBjcm9zcy1zZWN0aW9uIG9yaWVudGVkIGFsb25nIHRoZSBZIGF4aXNcbiAgICApOyBicmVhaztcbiAgICBkZWZhdWx0OiBicmVhaztcbiAgfVxuICBzd2l0Y2ggKHBsYXllci5idXJuZXJZU2lkZSkge1xuICAgIGNhc2UgJ2JvdHRvbSc6IGN0eC5maWxsUmVjdChcbiAgICAgIHBsYXllci54ICsgYnVybmVyQWNyb3NzT2Zmc2V0KHBsYXllci53aWR0aCksIC8vIGNlbnRlcmVkIG9uIHRoZSBYIGF4aXNcbiAgICAgIHBsYXllci55ICsgcGxheWVyLmhlaWdodCwgLy8gcG9zaXRpb25lZCBvbiB0aGUgYm90dG9tIG9mIHRoZSBwbGF5ZXJcbiAgICAgIGJ1cm5lckFjcm9zcyhwbGF5ZXIud2lkdGgpLCAvLyBjcm9zcy1zZWN0aW9uIG9yaWVudGVkIGFsb25nIHRoZSBYIGF4aXNcbiAgICAgIGJ1cm5lckxlbmd0aFksIC8vIGxvbmcgdGFpbCBvcmllbnRlZCBhbG9uZyB0aGUgWSBheGlzXG4gICAgKTsgYnJlYWs7XG4gICAgY2FzZSAndG9wJzogY3R4LmZpbGxSZWN0KFxuICAgICAgcGxheWVyLnggKyBidXJuZXJBY3Jvc3NPZmZzZXQocGxheWVyLndpZHRoKSwgLy8gY2VudGVyZWQgb24gdGhlIFggYXhpc1xuICAgICAgcGxheWVyLnkgLSBidXJuZXJMZW5ndGhZLCAvLyBwb3NpdGlvbmVkIG9uIHRoZSB0b3Agb2YgdGhlIHBsYXllclxuICAgICAgYnVybmVyQWNyb3NzKHBsYXllci53aWR0aCksIC8vIGNyb3NzLXNlY3Rpb24gb3JpZW50ZWQgYWxvbmcgdGhlIFggYXhpc1xuICAgICAgYnVybmVyTGVuZ3RoWSwgLy8gbG9uZyB0YWlsIG9yaWVudGVkIGFsb25nIHRoZSBZIGF4aXNcbiAgICApOyBicmVhaztcbiAgICBkZWZhdWx0OiBicmVhaztcbiAgfVxuXG4gIGN0eC5mb250ID0gXCIzMHB4IENvdXJpZXJcIjtcbiAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGJztcbiAgY29uc3Qgc2NvcmVUZXh0ID0gYCR7cG9pbnRzfS8ke21heFBvaW50c30ke3BvaW50cyA9PT0gbWF4UG9pbnRzID8gJyBhd3cgeWVlJyA6ICcnfWA7XG4gIGN0eC5maWxsVGV4dChzY29yZVRleHQsIDUwLCA1MCk7XG5cbiAgY29uc3QgZnVlbEJhcldpZHRoID0gMzAwO1xuICBjb25zdCBmdWVsUmVtYWluaW5nID0gcGxheWVyLmZ1ZWwgLyBwbGF5ZXIuTUFYX0ZVRUw7XG4gIGNvbnN0IGZ1ZWxSZW1haW5pbmdQb2ludCA9IGZ1ZWxCYXJXaWR0aCAqIGZ1ZWxSZW1haW5pbmc7XG4gIGNvbnN0IGZsYXNoaW5nID0gZnVlbFJlbWFpbmluZyA8IDAuMjUgJiYgbG9vcENvdW50ICUgMjAgPiAxMDtcbiAgY3R4LmZpbGxTdHlsZSA9IGZsYXNoaW5nID8gJ3JnYmEoMjU1LCAwLCAwLCAwLjYpJyA6ICdyZ2JhKDI1NSwgMCwgMCwgMC4zKSc7XG4gIGN0eC5maWxsUmVjdCg1MCArIGZ1ZWxSZW1haW5pbmdQb2ludCwgNjAsIGZ1ZWxCYXJXaWR0aCAtIGZ1ZWxSZW1haW5pbmdQb2ludCwgMzApO1xuICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMjU1LCAwLCAwLjUpJztcbiAgY3R4LmZpbGxSZWN0KDUwLCA2MCwgZnVlbFJlbWFpbmluZ1BvaW50LCAzMCk7XG5cbiAgZnJlZU1hc3Nlcy5mb3JFYWNoKG1hc3MgPT4gbWFzcy51cGRhdGUoKSk7XG59KTtcbiIsImltcG9ydCBNYXNzIGZyb20gXCIuL01hc3NcIjtcbmltcG9ydCBtb3VzZSBmcm9tIFwiLi9tb3VzZVwiO1xuaW1wb3J0IHsgYmV0d2VlbiwgYm91bmQgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIGV4dGVuZHMgTWFzcyB7XG4gIHB1YmxpYyB3aWR0aCA9IDE1O1xuICBwdWJsaWMgaGVpZ2h0ID0gMjA7XG4gIHB1YmxpYyBqZXRwYWNrRm9yY2VYID0gMC40OyAvLyAoa2cgKiBweCkgLyBmcl4yXG4gIHB1YmxpYyBqZXRwYWNrRm9yY2VZID0gMS4zOyAvLyAoa2cgKiBweCkgLyBmcl4yXG4gIHB1YmxpYyBNQVhfRlVFTCA9IDEwMDtcbiAgcHVibGljIE1JTl9GVUVMID0gMDtcbiAgcHVibGljIE1BWF9GVUVMX1JFQ0hBUkdFID0gMjU7XG4gIHB1YmxpYyBmdWVsUmVjaGFyZ2VSYXRlID0gMC4xO1xuICBwdWJsaWMgZnVlbFJlY2hhcmdlRGVsYXkgPSAyMDA7XG4gIHB1YmxpYyBsYXN0QnVybiA9IG51bGwgYXMgbnVsbHxEYXRlO1xuICBwcml2YXRlIF9mdWVsID0gMTAwO1xuXG4gIGdldCBidXJuaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZ1ZWwgPiAwICYmIG1vdXNlLnByZXNzZWQ7XG4gIH1cblxuICBnZXQgYXhKZXRwYWNrKCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmJ1cm5pbmcpIHJldHVybiAwO1xuXG4gICAgY29uc3QgbW91c2VEaXN0YW5jZSA9IG1vdXNlLnggLSB0aGlzLng7XG4gICAgY29uc3QgbGVmdE1hcmdpbiA9IC0xICogdGhpcy53aWR0aDtcbiAgICBjb25zdCByaWdodE1hcmdpbiA9IDIgKiB0aGlzLndpZHRoO1xuICAgIGlmIChiZXR3ZWVuKG1vdXNlRGlzdGFuY2UsIGxlZnRNYXJnaW4sIHJpZ2h0TWFyZ2luKSkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBqZXRwYWNrQWNjZWxlcmF0aW9uID0gdGhpcy5qZXRwYWNrRm9yY2VYIC8gdGhpcy5tYXNzO1xuICAgIHJldHVybiBtb3VzZURpc3RhbmNlID4gMCA/IGpldHBhY2tBY2NlbGVyYXRpb24gOiAtMSAqIGpldHBhY2tBY2NlbGVyYXRpb247XG4gIH1cblxuICBnZXQgYXlKZXRwYWNrKCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmJ1cm5pbmcpIHJldHVybiAwO1xuXG4gICAgY29uc3QgbW91c2VEaXN0YW5jZSA9IG1vdXNlLnkgLSB0aGlzLnk7XG4gICAgY29uc3QgdG9wTWFyZ2luID0gMDtcbiAgICBjb25zdCBib3R0b21NYXJnaW4gPSB0aGlzLmhlaWdodDtcbiAgICBpZiAobW91c2VEaXN0YW5jZSA+PSAwIHx8IGJldHdlZW4obW91c2VEaXN0YW5jZSwgdG9wTWFyZ2luLCBib3R0b21NYXJnaW4pKSByZXR1cm4gMDtcblxuICAgIGNvbnN0IGpldHBhY2tBY2NlbGVyYXRpb24gPSB0aGlzLmpldHBhY2tGb3JjZVkgLyB0aGlzLm1hc3M7XG4gICAgcmV0dXJuIC0xICogamV0cGFja0FjY2VsZXJhdGlvbjtcbiAgfVxuXG4gIGdldCBheCgpOiBudW1iZXIge1xuICAgIHJldHVybiBzdXBlci5heCArIHRoaXMuYXhKZXRwYWNrO1xuICB9XG5cbiAgZ2V0IGF5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHN1cGVyLmF5ICsgdGhpcy5heUpldHBhY2s7XG4gIH1cblxuICBnZXQgYnVybmVyWFNpZGUoKTogJ2xlZnQnfCdub25lJ3wncmlnaHQnIHtcbiAgICBpZiAodGhpcy5heEpldHBhY2sgPT09IDApIHJldHVybiAnbm9uZSc7XG4gICAgcmV0dXJuIHRoaXMuYXhKZXRwYWNrID4gMCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIH1cblxuICBnZXQgYnVybmVyWVNpZGUoKTogJ2JvdHRvbSd8J25vbmUnfCd0b3AnIHtcbiAgICBpZiAodGhpcy5heUpldHBhY2sgPT09IDApIHJldHVybiAnbm9uZSc7XG4gICAgcmV0dXJuIHRoaXMuYXlKZXRwYWNrID4gMCA/ICd0b3AnIDogJ2JvdHRvbSc7XG4gIH1cblxuICBzZXQgZnVlbChmdWVsOiBudW1iZXIpIHtcbiAgICB0aGlzLl9mdWVsID0gYm91bmQoZnVlbCwgdGhpcy5NSU5fRlVFTCwgdGhpcy5NQVhfRlVFTCk7XG4gIH1cblxuICBnZXQgZnVlbCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9mdWVsO1xuICB9XG5cbiAgdXBkYXRlKCk6IHZvaWQge1xuICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIGlmICh0aGlzLmJ1cm5pbmcpIHtcbiAgICAgIHRoaXMuZnVlbCAtPSAwLjU7XG4gICAgICB0aGlzLmxhc3RCdXJuID0gbmV3IERhdGUoKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5mdWVsIDwgdGhpcy5NQVhfRlVFTF9SRUNIQVJHRVxuICAgICAgJiYgdGhpcy5sYXN0QnVyblxuICAgICAgJiYgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RCdXJuLmdldFRpbWUoKSA+IHRoaXMuZnVlbFJlY2hhcmdlRGVsYXlcbiAgICApIHtcbiAgICAgIHRoaXMuZnVlbCA9IGJvdW5kKHRoaXMuZnVlbCArIHRoaXMuZnVlbFJlY2hhcmdlUmF0ZSwgdGhpcy5NSU5fRlVFTCwgdGhpcy5NQVhfRlVFTCk7XG4gICAgfVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9