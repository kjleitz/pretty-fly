!function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);const o=document.createElement("canvas"),s=()=>{o.width=window.innerWidth,o.height=window.innerHeight};s(),window.addEventListener("resize",s),document.body.appendChild(o);const r=o.getContext("2d");r||console.error("Canvas '2d' context is not supported.");const n=(t,e)=>{requestAnimationFrame(()=>n(t,e)),t.clearRect(0,0,window.innerWidth,window.innerHeight),e()};var h=n;const l=(t,e)=>{const[i,o]=t<e?[t,e]:[e,t],s=o-i;return i+Math.random()*s},a=(t,e)=>{e||(e=t,t=0);const[i,o]=t<e?[t,e]:[e,t],s=[...Array(o-i).keys()].map(t=>t+i);return e>=t?s:[o,...s.slice(1).reverse()]},c=(t,e,i=0)=>{if(t===i)return i;if(t>i){const o=t-e;return o<i?i:o}const o=t+e;return o>i?i:o},u=(t,e,i)=>{const[o,s]=e<i?[e,i]:[i,e];return t<o?o:t>s?s:t},d=(t,e,i,o=!0)=>{const[s,r]=e<i?[e,i]:[i,e];return o?t>=s&&t<=r:t>s&&t<r},g=(t,e)=>Math.abs(t-e),p=0,f=1,y=.25,m=100;var w=new class{constructor(){this.masses=[]}overlapForMove(t,e){const i=new x(Object.assign(Object.assign(Object.assign({},t),e),{darkMatter:!0})),o=i.x-t.x,s=i.y-t.y,r=s<0,n=s>0,h=o<0,l=o>0;return this.masses.reduce((e,o)=>{if(o===t)return e;if(!i.isHitting(o))return e;const s=o.solid?e.solid:e.ephemeral;if(r&&d(o.bottom,t.top,i.top)){const t=g(o.bottom,i.top);s.top<t&&(s.top=t)}if(n&&d(o.top,t.bottom,i.bottom)){const t=g(o.top,i.bottom);s.bottom<t&&(s.bottom=t)}if(h&&d(o.right,t.left,i.left)){const t=g(o.right,i.left);s.left<t&&(s.left=t)}if(l&&d(o.left,t.right,i.right)){const t=g(o.left,i.right);s.right<t&&(s.right=t)}return e},{solid:{top:0,bottom:0,left:0,right:0},ephemeral:{top:0,bottom:0,left:0,right:0}})}overlappingMasses(t,{ignore:e=[]}={}){return this.masses.filter(i=>t!==i&&!e.includes(i)&&t.isHitting(i))}overlap(t,{ignore:e=[]}={}){return this.overlappingMasses(t,{ignore:e}).reduce((e,i)=>{const o=e;if(i.top>=t.top&&i.top<=t.bottom){const e=t.bottom-i.top;o.bottom<e&&(o.bottom=e)}if(i.bottom<=t.bottom&&i.bottom>=t.top){const e=i.bottom-t.top;o.top<e&&(o.top=e)}if(i.left>=t.left&&i.left<=t.right){const e=t.right-i.left;o.right<e&&(o.right=e)}if(i.right>=t.left&&i.right<=t.right){const e=i.right-t.left;o.left<e&&(o.left=e)}return o},{top:0,right:0,bottom:0,left:0})}};const b=(t,e,i,o,s)=>{let r=t+e,n=e+i;return r>s?(r=s,n=0):r<o&&(r=o,n=0),{position:r,velocity:n}};class x{constructor(t){this.mass=1,this.x=0,this.y=0,this.dx=0,this.dy=0,this.width=25,this.height=25,this.stationary=!1,this.darkMatter=!1,this.solid=!0,this.collectOnTouch=!1,this.touchedAt=null,Object.assign(this,t),this.darkMatter||w.masses.push(this)}get dragCoefficient(){return(2*this.width+2*this.height)/this.mass/m}get ax(){return this.stationary?0:p}get ay(){return this.stationary?0:f}get isAgainstTopWall(){return 0===this.y}get isAgainstBottomWall(){return this.y===window.innerHeight-this.height}get isAgainstLeftWall(){return 0===this.x}get isAgainstRightWall(){return this.x===window.innerWidth-this.width}get terminalVelocity(){return 20}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get left(){return this.x}update(){const t=b(this.x,this.dx,this.ax,this.width,window.innerWidth-this.width),e=b(this.y,this.dy,this.ay,this.height,window.innerHeight-this.height);let i=t.position,o=e.position,s=t.velocity,r=e.velocity;const n=w.overlapForMove(this,{x:i,y:o}).solid;n.right>0?(i-=n.right,s=0):n.left>0&&(i+=n.left,s=0),n.bottom>0?(o-=n.bottom,r=0):n.top>0&&(o+=n.top,r=0),this.x=i,this.y=o,(this.isAgainstTopWall||this.isAgainstBottomWall||n.top||n.bottom)&&(s=c(s,y)),(this.isAgainstLeftWall||this.isAgainstRightWall||n.left||n.right)&&(r=c(r,y)),this.dx=u(s,-1*this.terminalVelocity,this.terminalVelocity),this.dy=u(r,-1*this.terminalVelocity,this.terminalVelocity)}isHitting(t){return this.right>=t.left&&this.left<=t.right&&this.bottom>=t.top&&this.top<=t.bottom}}var v=new class{constructor(){this.x=0,this.y=0,this.pressed=!1,window.addEventListener("mousedown",t=>{this.populateFromMouseEvent(t)}),window.addEventListener("mousemove",t=>{this.populateFromMouseEvent(t)}),window.addEventListener("mouseup",t=>{this.populateFromMouseEvent(t)}),window.addEventListener("touchstart",t=>{this.populateFromTouchEvent(t)}),window.addEventListener("touchmove",t=>{this.populateFromTouchEvent(t)}),window.addEventListener("touchend",t=>{this.populateFromTouchEvent(t)})}populateFromMouseEvent(t){this.x=t.x,this.y=t.y,this.pressed=1===t.buttons}populateFromTouchEvent(t){const{touches:e}=t;if(0===e.length)this.pressed=!1;else{const t=e[0];this.x=t.clientX,this.y=t.clientY,this.pressed=!0}}};const k=window.innerWidth,E=window.innerHeight,M=new class extends x{constructor(){super(...arguments),this.width=15,this.height=20,this.jetpackForceX=.4,this.jetpackForceY=1.3}get burning(){return v.pressed}get axJetpack(){if(!this.burning)return 0;const t=v.x-this.x,e=-1*this.width,i=2*this.width;if(d(t,e,i))return 0;const o=this.jetpackForceX/this.mass;return t>0?o:-1*o}get ayJetpack(){if(!this.burning)return 0;const t=v.y-this.y,e=this.height;return t>=0||d(t,0,e)?0:-1*(this.jetpackForceY/this.mass)}get ax(){return super.ax+this.axJetpack}get ay(){return super.ay+this.ayJetpack}get burnerXSide(){return 0===this.axJetpack?"none":this.axJetpack>0?"left":"right"}get burnerYSide(){return 0===this.ayJetpack?"none":this.ayJetpack>0?"top":"bottom"}},S=a(10).map(()=>new x({x:l(0,k),y:l(0,E),width:l(50,150),height:l(50,150),stationary:!0})),F=a(10).map(()=>new x({mass:l(.5,5),x:l(0,k),y:l(0,E),width:25,height:25,solid:!1,stationary:Math.random()>.5,collectOnTouch:!0})),j=[...S,...F],A=[M,...j.filter(t=>!t.stationary)];let O=0;const T=F.length,R=a(100).map(()=>{const t=l(1,5);return[l(0,k),l(0,E),t,t]});h(r,()=>{R.forEach((t,e)=>{const i=(e%10+1)/10;r.fillStyle=`rgba(255, 255, 255, ${i})`,r.fillRect(...t)}),j.forEach((t,e)=>{const i=M.isHitting(t);let o=!0;if(t.solid)r.fillStyle="rgba(255, 0, 0, 0.7)";else if(i&&!t.touchedAt)r.fillStyle="rgba(0, 0, 255, 0.8)",t.touchedAt=(new Date).getTime();else if(t.collectOnTouch&&t.touchedAt){const i=(new Date).getTime()-t.touchedAt;if(i>200)j.splice(e,1),o=!1,O+=1;else{const t=Math.ceil(i/200*255);r.fillStyle=`rgba(${t}, ${t}, 255, 0.8)`}}else r.fillStyle="rgba(0, 100, 255, 0.8)";o&&r.fillRect(t.x,t.y,t.width,t.height)}),r.fillStyle="rgba(0, 150, 0, 1)",r.fillRect(M.x,M.y,M.width,M.height);const t=M.width/2,e=M.height/5;switch(r.fillStyle="rgba(220, 220, 255, 1)",M.burnerXSide){case"left":r.fillRect(M.x+(M.width-t),M.y+3,t,e);break;case"right":r.fillRect(M.x,M.y+3,t,e);break;default:r.fillRect(M.x+(M.width-t)/2,M.y+3,t,e)}const i=`rgba(255, 100, 0, ${l(.5,.75)})`,o=l(.25,.4)*M.width,s=l(.4,.6)*M.height,n=t=>.6*t,h=t=>(t-n(t))/2;switch(r.fillStyle=i,M.burnerXSide){case"left":r.fillRect(M.x-o,M.y+h(M.height),o,n(M.height));break;case"right":r.fillRect(M.x+M.width,M.y+h(M.height),o,n(M.height))}switch(M.burnerYSide){case"bottom":r.fillRect(M.x+h(M.width),M.y+M.height,n(M.width),s);break;case"top":r.fillRect(M.x+h(M.width),M.y-s,n(M.width),s)}r.font="30px Courier",r.fillStyle="#FFF";const a=`${O}/${T}${O===T?" aww yee":""}`;r.fillText(a,50,50),A.forEach(t=>t.update())})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZUxvb3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5pdmVyc2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hc3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vdXNlLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGxheWVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3RyZXRjaENhbnZhcyIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImN0eCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiLCJnYW1lTG9vcCIsImRyYXciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGVhclJlY3QiLCJyYW5kIiwibWluIiwibWF4IiwicmVhbE1pbiIsInJlYWxNYXgiLCJkaWZmIiwiTWF0aCIsInJhbmRvbSIsInJhbmdlIiwiYmFzZUFycmF5IiwiQXJyYXkiLCJrZXlzIiwibWFwIiwic2xpY2UiLCJyZXZlcnNlIiwiZGFtcGVuIiwibnVtIiwiYnkiLCJjZW50ZXIiLCJuZXdOdW0iLCJib3VuZCIsImJldHdlZW4iLCJpbmNsdXNpdmUiLCJkaWZmZXJlbmNlIiwiYWJzIiwiR1JBVklUWV9YIiwiR1JBVklUWV9ZIiwiRlJJQ1RJT04iLCJOT1JNQUxfRFJBRyIsIm1hc3NlcyIsInN1YmplY3QiLCJ0b1Bvc2l0aW9uIiwibW92ZWRTdWJqZWN0IiwiZGFya01hdHRlciIsImR4IiwieCIsImR5IiwieSIsIm1vdmluZyIsInRoaXMiLCJyZWR1Y2UiLCJvdmVybGFwcyIsIm9ic3RhY2xlIiwiaXNIaXR0aW5nIiwib3ZlcmxhcCIsInNvbGlkIiwiZXBoZW1lcmFsIiwiYm90dG9tIiwidG9wIiwiZGlzdGFuY2UiLCJyaWdodCIsImxlZnQiLCJpZ25vcmUiLCJmaWx0ZXIiLCJtYXNzIiwiaW5jbHVkZXMiLCJvdmVybGFwcGluZ01hc3NlcyIsIm1lbW8iLCJ1cGRhdGVEaW1lbnNpb24iLCJwb3NpdGlvbiIsInZlbG9jaXR5IiwiYWNjZWxlcmF0aW9uIiwibmV3UG9zaXRpb24iLCJuZXdWZWxvY2l0eSIsIm9wdGlvbnMiLCJzdGF0aW9uYXJ5IiwiY29sbGVjdE9uVG91Y2giLCJ0b3VjaGVkQXQiLCJhc3NpZ24iLCJwdXNoIiwibmV3WERhdGEiLCJheCIsIm5ld1lEYXRhIiwiYXkiLCJuZXdYIiwibmV3WSIsIm5ld0R4IiwibmV3RHkiLCJzb2xpZE92ZXJsYXAiLCJvdmVybGFwRm9yTW92ZSIsImlzQWdhaW5zdFRvcFdhbGwiLCJpc0FnYWluc3RCb3R0b21XYWxsIiwiaXNBZ2FpbnN0TGVmdFdhbGwiLCJpc0FnYWluc3RSaWdodFdhbGwiLCJ0ZXJtaW5hbFZlbG9jaXR5IiwicHJlc3NlZCIsImV2ZW50IiwicG9wdWxhdGVGcm9tTW91c2VFdmVudCIsInBvcHVsYXRlRnJvbVRvdWNoRXZlbnQiLCJidXR0b25zIiwidG91Y2hlcyIsImxlbmd0aCIsInRvdWNoIiwiY2xpZW50WCIsImNsaWVudFkiLCJNQVhfWCIsIk1BWF9ZIiwicGxheWVyIiwiamV0cGFja0ZvcmNlWCIsImpldHBhY2tGb3JjZVkiLCJidXJuaW5nIiwibW91c2VEaXN0YW5jZSIsImxlZnRNYXJnaW4iLCJyaWdodE1hcmdpbiIsImpldHBhY2tBY2NlbGVyYXRpb24iLCJib3R0b21NYXJnaW4iLCJzdXBlciIsImF4SmV0cGFjayIsImF5SmV0cGFjayIsInNvbGlkTWFzc2VzIiwiY29sbGVjdGlibGVzIiwiZnJlZU1hc3NlcyIsInBvaW50cyIsIm1heFBvaW50cyIsInN0YXJzIiwic2l6ZSIsImZvckVhY2giLCJyZWN0T3B0aW9ucyIsImluZGV4Iiwib3BhY2l0eSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiaGl0dGluZ01hc3MiLCJzdGlsbFByZXNlbnQiLCJEYXRlIiwiZ2V0VGltZSIsIm1zU2luY2VUb3VjaCIsInNwbGljZSIsInJnVmFsdWUiLCJjZWlsIiwiZmFjZW1hc2tXaWR0aCIsImZhY2VtYXNrSGVpZ2h0IiwiYnVybmVyWFNpZGUiLCJidXJuZXJDb2xvciIsImJ1cm5lckxlbmd0aFgiLCJidXJuZXJMZW5ndGhZIiwiYnVybmVyQWNyb3NzIiwiYnVybmVyQWNyb3NzT2Zmc2V0IiwiYnVybmVyWVNpZGUiLCJmb250Iiwic2NvcmVUZXh0IiwiZmlsbFRleHQiLCJ1cGRhdGUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxR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bEosRUFBSWlJLFNBQ2pCeEIsRUFBTzlELEVBQUlzRyxFQUFtQnhDLEVBQU9qSCxPQUNyQ2lILEVBQU81RCxFQUFJNEQsRUFBTzlHLE9BQ2xCcUosRUFBYXZDLEVBQU9qSCxPQUNwQnVKLEdBQ0MsTUFDSCxJQUFLLE1BQU8vSSxFQUFJaUksU0FDZHhCLEVBQU85RCxFQUFJc0csRUFBbUJ4QyxFQUFPakgsT0FDckNpSCxFQUFPNUQsRUFBSWtHLEVBQ1hDLEVBQWF2QyxFQUFPakgsT0FDcEJ1SixHQUtKL0ksRUFBSW1KLEtBQU8sZUFDWG5KLEVBQUlnSSxVQUFZLE9BQ2hCLE1BQU1vQixLQUFlNUIsS0FBVUMsSUFBWUQsSUFBV0MsRUFBWSxXQUFhLEtBQy9FekgsRUFBSXFKLFNBQVNELEVBQVcsR0FBSSxJQUU1QjdCLEVBQVdLLFFBQVE5RCxHQUFRQSxFQUFLd0YiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuY29uc3Qgc3RyZXRjaENhbnZhcyA9ICgpOiB2b2lkID0+IHtcbiAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG59O1xuXG5zdHJldGNoQ2FudmFzKCk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RyZXRjaENhbnZhcyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcbmlmICghY3R4KSBjb25zb2xlLmVycm9yKFwiQ2FudmFzICcyZCcgY29udGV4dCBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcblxuZXhwb3J0IHsgY3R4IH07XG5leHBvcnQgZGVmYXVsdCBjYW52YXM7XG4iLCJjb25zdCBnYW1lTG9vcCA9IChjOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRyYXc6ICgpID0+IHZvaWQpOiB2b2lkID0+IHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGdhbWVMb29wKGMsIGRyYXcpKTtcbiAgYy5jbGVhclJlY3QoMCwgMCwgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gIGRyYXcoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVMb29wO1xuIiwiZXhwb3J0IGNvbnN0IHJhbmQgPSAobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIGNvbnN0IGRpZmYgPSByZWFsTWF4IC0gcmVhbE1pbjtcbiAgcmV0dXJuIHJlYWxNaW4gKyAoTWF0aC5yYW5kb20oKSAqIGRpZmYpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJhbmdlID0gKG1pbjogbnVtYmVyLCBtYXg/OiBudW1iZXIpOiBudW1iZXJbXSA9PiB7XG4gIGlmICghbWF4KSB7XG4gICAgbWF4ID0gbWluOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgbWluID0gMDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICB9XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICBjb25zdCBkaWZmID0gcmVhbE1heCAtIHJlYWxNaW47XG4gIGNvbnN0IGJhc2VBcnJheSA9IFsuLi5BcnJheShkaWZmKS5rZXlzKCldLm1hcChuID0+IG4gKyByZWFsTWluKTtcbiAgcmV0dXJuIG1heCA+PSBtaW4gPyBiYXNlQXJyYXkgOiBbcmVhbE1heCwgLi4uYmFzZUFycmF5LnNsaWNlKDEpLnJldmVyc2UoKV07XG59O1xuXG5leHBvcnQgY29uc3QgZGFtcGVuID0gKG51bTogbnVtYmVyLCBieTogbnVtYmVyLCBjZW50ZXIgPSAwKTogbnVtYmVyID0+IHtcbiAgLy8gbnVtYmVyIGlzIGFscmVhZHkgYXQgdGhlIGNlbnRlclxuICBpZiAobnVtID09PSBjZW50ZXIpIHJldHVybiBjZW50ZXI7XG5cbiAgLy8gbnVtYmVyIGlzIGhpZ2hlciB0aGFuIHRoZSBjZW50ZXI7IHN1YnRyYWN0IGFuZCBkb24ndCBvdmVyc2hvb3QgdGhlIGNlbnRlclxuICBpZiAobnVtID4gY2VudGVyKSB7XG4gICAgY29uc3QgbmV3TnVtID0gbnVtIC0gYnk7XG4gICAgcmV0dXJuIG5ld051bSA8IGNlbnRlciA/IGNlbnRlciA6IG5ld051bTtcbiAgfVxuXG4gIC8vIG51bWJlciBpcyBsb3dlciB0aGFuIHRoZSBjZW50ZXI7IGFkZCBhbmQgZG9uJ3Qgb3ZlcnNob290IHRoZSBjZW50ZXJcbiAgY29uc3QgbmV3TnVtID0gbnVtICsgYnk7XG4gIHJldHVybiBuZXdOdW0gPiBjZW50ZXIgPyBjZW50ZXIgOiBuZXdOdW07XG59O1xuXG5leHBvcnQgY29uc3QgYm91bmQgPSAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGNvbnN0IFtyZWFsTWluLCByZWFsTWF4XSA9IG1pbiA8IG1heCA/IFttaW4sIG1heF0gOiBbbWF4LCBtaW5dO1xuICBpZiAobnVtIDwgcmVhbE1pbikgcmV0dXJuIHJlYWxNaW47XG4gIGlmIChudW0gPiByZWFsTWF4KSByZXR1cm4gcmVhbE1heDtcbiAgcmV0dXJuIG51bTtcbn07XG5cbmV4cG9ydCBjb25zdCBiZXR3ZWVuID0gKG51bTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGluY2x1c2l2ZSA9IHRydWUpOiBib29sZWFuID0+IHtcbiAgY29uc3QgW3JlYWxNaW4sIHJlYWxNYXhdID0gbWluIDwgbWF4ID8gW21pbiwgbWF4XSA6IFttYXgsIG1pbl07XG4gIHJldHVybiBpbmNsdXNpdmUgPyAobnVtID49IHJlYWxNaW4gJiYgbnVtIDw9IHJlYWxNYXgpIDogKG51bSA+IHJlYWxNaW4gJiYgbnVtIDwgcmVhbE1heCk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlmZmVyZW5jZSA9IChuOiBudW1iZXIsIG06IG51bWJlcik6IG51bWJlciA9PiBNYXRoLmFicyhuIC0gbSk7XG4iLCJpbXBvcnQgTWFzcyBmcm9tIFwiLi9NYXNzXCI7XG5pbXBvcnQgeyBiZXR3ZWVuLCBkaWZmZXJlbmNlIH0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5cbmV4cG9ydCBjb25zdCBHUkFWSVRZX1ggPSAwOyAvLyBweC9mcl4yXG5leHBvcnQgY29uc3QgR1JBVklUWV9ZID0gMTsgLy8gcHgvZnJeMlxuZXhwb3J0IGNvbnN0IEFJUl9SRVNJU1RBTkNFID0gMC4yNTsgLy8gVE9ET1xuZXhwb3J0IGNvbnN0IEZSSUNUSU9OID0gMC4yNTsgLy8gVE9ETzogdGhpcyBzaG91bGQgYmUgZGVwZW5kZW50IG9uIG1hc3NcbmV4cG9ydCBjb25zdCBOT1JNQUxfRFJBRyA9IDEwMDsgLy8gc3VyZmFjZSBhcmVhIGluIHBpeGVscywgcGVyIGtpbG9ncmFtXG5cbmludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgT3ZlcmxhcCB7XG4gIHRvcDogbnVtYmVyO1xuICBib3R0b206IG51bWJlcjtcbiAgbGVmdDogbnVtYmVyO1xuICByaWdodDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgT3ZlcmxhcHMge1xuICBzb2xpZDogT3ZlcmxhcDtcbiAgZXBoZW1lcmFsOiBPdmVybGFwO1xufVxuXG5jbGFzcyBVbml2ZXJzZSB7XG4gIHB1YmxpYyBtYXNzZXMgPSBbXSBhcyBNYXNzW107XG5cbiAgb3ZlcmxhcEZvck1vdmUoc3ViamVjdDogTWFzcywgdG9Qb3NpdGlvbjogUG9pbnQpOiBPdmVybGFwcyB7XG4gICAgY29uc3QgbW92ZWRTdWJqZWN0ID0gbmV3IE1hc3Moe1xuICAgICAgLi4uc3ViamVjdCxcbiAgICAgIC4uLnRvUG9zaXRpb24sXG4gICAgICBkYXJrTWF0dGVyOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZHggPSBtb3ZlZFN1YmplY3QueCAtIHN1YmplY3QueDtcbiAgICBjb25zdCBkeSA9IG1vdmVkU3ViamVjdC55IC0gc3ViamVjdC55O1xuICAgIGNvbnN0IG1vdmluZyA9IHtcbiAgICAgIHVwOiBkeSA8IDAsXG4gICAgICBkb3duOiBkeSA+IDAsXG4gICAgICBsZWZ0OiBkeCA8IDAsXG4gICAgICByaWdodDogZHggPiAwLFxuICAgIH07XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICAgIHJldHVybiB0aGlzLm1hc3Nlcy5yZWR1Y2UoKG92ZXJsYXBzLCBvYnN0YWNsZSkgPT4ge1xuICAgICAgaWYgKG9ic3RhY2xlID09PSBzdWJqZWN0KSByZXR1cm4gb3ZlcmxhcHM7XG5cbiAgICAgIGNvbnN0IGhpdHRpbmdPYnN0YWNsZSA9IG1vdmVkU3ViamVjdC5pc0hpdHRpbmcob2JzdGFjbGUpO1xuICAgICAgaWYgKCFoaXR0aW5nT2JzdGFjbGUpIHJldHVybiBvdmVybGFwcztcblxuICAgICAgY29uc3Qgb3ZlcmxhcCA9IG9ic3RhY2xlLnNvbGlkID8gb3ZlcmxhcHMuc29saWQgOiBvdmVybGFwcy5lcGhlbWVyYWw7XG4gICAgICBpZiAobW92aW5nLnVwICYmIGJldHdlZW4ob2JzdGFjbGUuYm90dG9tLCBzdWJqZWN0LnRvcCwgbW92ZWRTdWJqZWN0LnRvcCkpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBkaWZmZXJlbmNlKG9ic3RhY2xlLmJvdHRvbSwgbW92ZWRTdWJqZWN0LnRvcCk7XG4gICAgICAgIGlmIChvdmVybGFwLnRvcCA8IGRpc3RhbmNlKSBvdmVybGFwLnRvcCA9IGRpc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICBpZiAobW92aW5nLmRvd24gJiYgYmV0d2VlbihvYnN0YWNsZS50b3AsIHN1YmplY3QuYm90dG9tLCBtb3ZlZFN1YmplY3QuYm90dG9tKSkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRpZmZlcmVuY2Uob2JzdGFjbGUudG9wLCBtb3ZlZFN1YmplY3QuYm90dG9tKTtcbiAgICAgICAgaWYgKG92ZXJsYXAuYm90dG9tIDwgZGlzdGFuY2UpIG92ZXJsYXAuYm90dG9tID0gZGlzdGFuY2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb3ZpbmcubGVmdCAmJiBiZXR3ZWVuKG9ic3RhY2xlLnJpZ2h0LCBzdWJqZWN0LmxlZnQsIG1vdmVkU3ViamVjdC5sZWZ0KSkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRpZmZlcmVuY2Uob2JzdGFjbGUucmlnaHQsIG1vdmVkU3ViamVjdC5sZWZ0KTtcbiAgICAgICAgaWYgKG92ZXJsYXAubGVmdCA8IGRpc3RhbmNlKSBvdmVybGFwLmxlZnQgPSBkaXN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vdmluZy5yaWdodCAmJiBiZXR3ZWVuKG9ic3RhY2xlLmxlZnQsIHN1YmplY3QucmlnaHQsIG1vdmVkU3ViamVjdC5yaWdodCkpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBkaWZmZXJlbmNlKG9ic3RhY2xlLmxlZnQsIG1vdmVkU3ViamVjdC5yaWdodCk7XG4gICAgICAgIGlmIChvdmVybGFwLnJpZ2h0IDwgZGlzdGFuY2UpIG92ZXJsYXAucmlnaHQgPSBkaXN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG92ZXJsYXBzO1xuICAgIH0sIHtcbiAgICAgIHNvbGlkOiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgIH0sXG4gICAgICBlcGhlbWVyYWw6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBib3R0b206IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gIH1cblxuICBvdmVybGFwcGluZ01hc3NlcyhzdWJqZWN0OiBNYXNzLCB7IGlnbm9yZSA9IFtdIH06IHsgaWdub3JlPzogTWFzc1tdIH0gPSB7fSk6IE1hc3NbXSB7XG4gICAgcmV0dXJuIHRoaXMubWFzc2VzLmZpbHRlcigobWFzcykgPT4ge1xuICAgICAgaWYgKHN1YmplY3QgPT09IG1hc3MgfHwgaWdub3JlLmluY2x1ZGVzKG1hc3MpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gc3ViamVjdC5pc0hpdHRpbmcobWFzcyk7XG4gICAgfSk7XG4gIH1cblxuICBvdmVybGFwKHN1YmplY3Q6IE1hc3MsIHsgaWdub3JlID0gW10gfTogeyBpZ25vcmU/OiBNYXNzW10gfSA9IHt9KTogT3ZlcmxhcCB7XG4gICAgY29uc3QgbWFzc2VzID0gdGhpcy5vdmVybGFwcGluZ01hc3NlcyhzdWJqZWN0LCB7IGlnbm9yZSB9KTtcbiAgICAvKipcbiAgICAgKiAsLS0tLSxcbiAgICAgKiB8ICAgIHwgPD0gc3ViamVjdFxuICAgICAqICctLS0tJ1xuICAgICAqIC4uLi4uLlxuICAgICAqIDogICAgOiA8PSBtYXNzXG4gICAgICogYGBgYGBgXG4gICAgICovXG4gICAgcmV0dXJuIG1hc3Nlcy5yZWR1Y2UoKG1lbW86IE92ZXJsYXAsIG1hc3MpID0+IHtcbiAgICAgIGNvbnN0IG92ZXJsYXAgPSBtZW1vO1xuXG4gICAgICAvKipcbiAgICAgICAqICwtLS0tLCAgICAsLS0tLSwgICAgLC0uLS0sLi4gICAgLC0tLS0sICAgICwtLS0tLCAgLi4sLS0uLSwgICAgLC0tLS0sICAgICAgLC0tLS0sICAgIC4uLC0tLS0sLi5cbiAgICAgICAqIHwgICAgfCAgICB8IC4uLnwuLiAgfCA6ICB8IDogICAgfCAgICB8ICAuLnwuLi4gfCAgOiB8ICA6IHwgICAgfCAgICB8ICAgIC4ufC4uLi58Li4gIDogfCAgICB8IDpcbiAgICAgICAqICctLi0tJy4uICAnLTotLScgOiAgJy0tLS0nYGAgIC4uJy0tLi0nICA6ICctLTotJyAgYGAnLS0tLScgIC4uJy0tLS0nLi4gIDogJy0tLS0nIDogIGBgJy0tLS0nYGBcbiAgICAgICAqICAgOiAgICA6ICAgIGBgYGBgYCAgICAgICAgICAgIDogICAgOiAgICBgYGBgYGAgICAgICAgICAgICAgIDogICAgICAgIDogIGBgYGBgYGBgYGBcbiAgICAgICAqICAgYGBgYGBgICAgICAgICAgICAgICAgICAgICAgIGBgYGBgYCAgICAgICAgICAgICAgICAgICAgICAgIGBgYGBgYGBgYGBcbiAgICAgICAqL1xuICAgICAgY29uc3QgbWFzc1RvcE92ZXJsYXAgPSBtYXNzLnRvcCA+PSBzdWJqZWN0LnRvcCAmJiBtYXNzLnRvcCA8PSBzdWJqZWN0LmJvdHRvbTtcbiAgICAgIGlmIChtYXNzVG9wT3ZlcmxhcCkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHN1YmplY3QuYm90dG9tIC0gbWFzcy50b3A7XG4gICAgICAgIGlmIChvdmVybGFwLmJvdHRvbSA8IGRpc3RhbmNlKSBvdmVybGFwLmJvdHRvbSA9IGRpc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIC4uLi4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uLi4uICAgICAgICAgICAgICAgICAgICAgLi4uLi4uLi4uLlxuICAgICAgICogOiAgICA6ICAgIC4uLi4uLiAgICAgICAgICAgICAgICA6ICAgIDogICAuLi4uLi4gICAgICAgICAgICA6ICAgICAgICA6ICAuLi4uLi4uLi4uXG4gICAgICAgKiBgYCwtLS0tLCAgOiAsLS06LSwgIC4uLC0tLS0sICAsLWAtLSxgYCAsLTotLSwgOiAgLC0tLS0sLi4gIGBgLC0tLS0sYGAgIDogLC0tLS0sIDogIC4uLC0tLS0sLi5cbiAgICAgICAqICAgfCAgICB8ICBgYHxgYGAgfCAgOiB8ICA6IHwgIHwgICAgfCAgIHwgYGBgfGBgICB8IDogIHwgOiAgICB8ICAgIHwgICAgYGB8YGBgYHxgYCAgOiB8ICAgIHwgOlxuICAgICAgICogICAnLS0tLScgICAgJy0tLS0nICBgYCctLWAtJyAgJy0tLS0nICAgJy0tLS0nICAgICctYC0tJ2BgICAgICctLS0tJyAgICAgICctLS0tJyAgICBgYCctLS0tJ2BgXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IG1hc3NCb3R0b21PdmVybGFwID0gbWFzcy5ib3R0b20gPD0gc3ViamVjdC5ib3R0b20gJiYgbWFzcy5ib3R0b20gPj0gc3ViamVjdC50b3A7XG4gICAgICBpZiAobWFzc0JvdHRvbU92ZXJsYXApIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBtYXNzLmJvdHRvbSAtIHN1YmplY3QudG9wO1xuICAgICAgICBpZiAob3ZlcmxhcC50b3AgPCBkaXN0YW5jZSkgb3ZlcmxhcC50b3AgPSBkaXN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiAgICAgIC4uLi4uLlxuICAgICAgICogLC0tLS06ICAgIDpcbiAgICAgICAqIHwgICAgfGBgYGBgXG4gICAgICAgKiAnLS0tLSdcbiAgICAgICAqICAgLi4uLi4uXG4gICAgICAgKiAuLTotLS4gOlxuICAgICAgICogfCBgYGB8YGBcbiAgICAgICAqICctLS0tJ1xuICAgICAgICogLi4uLi4uXG4gICAgICAgKiA6LS0tLTpcbiAgICAgICAqIHxgYGBgfFxuICAgICAgICogJy0tLS0nXG4gICAgICAgKiAsLS0tLSxcbiAgICAgICAqIHwgICAgfC4uLi4uXG4gICAgICAgKiAnLS0tLTogICAgOlxuICAgICAgICogICAgICBgYGBgYGBcbiAgICAgICAqICwtLS0tLFxuICAgICAgICogfCAuLi58Li5cbiAgICAgICAqICctOi0tJyA6XG4gICAgICAgKiAgIGBgYGBgYFxuICAgICAgICogLC0tLS0sXG4gICAgICAgKiB8Li4uLnxcbiAgICAgICAqIDotLS0tOlxuICAgICAgICogYGBgYGBgXG4gICAgICAgKiAgICAgIC4uLi4uLlxuICAgICAgICogLC0tLS06ICAgIDpcbiAgICAgICAqIHwgICAgfCAgICA6XG4gICAgICAgKiAnLS0tLTogICAgOlxuICAgICAgICogICAgICBgYGBgYGBcbiAgICAgICAqICAgLi4uLi4uXG4gICAgICAgKiAsLTotLSwgOlxuICAgICAgICogfCA6ICB8IDpcbiAgICAgICAqICctOi0tJyA6XG4gICAgICAgKiAgIGBgYGBgYFxuICAgICAgICogLi4uLi4uXG4gICAgICAgKiA6LS0tLTpcbiAgICAgICAqIHwgICAgfFxuICAgICAgICogOi0tLS06XG4gICAgICAgKiBgYGBgYGBcbiAgICAgICAqL1xuICAgICAgY29uc3QgbWFzc0xlZnRPdmVybGFwID0gbWFzcy5sZWZ0ID49IHN1YmplY3QubGVmdCAmJiBtYXNzLmxlZnQgPD0gc3ViamVjdC5yaWdodDtcbiAgICAgIGlmIChtYXNzTGVmdE92ZXJsYXApIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBzdWJqZWN0LnJpZ2h0IC0gbWFzcy5sZWZ0O1xuICAgICAgICBpZiAob3ZlcmxhcC5yaWdodCA8IGRpc3RhbmNlKSBvdmVybGFwLnJpZ2h0ID0gZGlzdGFuY2U7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogLi4uLi4uXG4gICAgICAgKiA6ICAgIDotLS0tLFxuICAgICAgICogYGBgYGB8ICAgIHxcbiAgICAgICAqICAgICAgJy0tLS0nXG4gICAgICAgKiAgICAuLi4uLi5cbiAgICAgICAqICAgIDogLC0tOi0sXG4gICAgICAgKiAgICBgYHxgYGAgfFxuICAgICAgICogICAgICAnLS0tLSdcbiAgICAgICAqICAgICAgLi4uLi4uXG4gICAgICAgKiAgICAgIDotLS0tOlxuICAgICAgICogICAgICB8YGBgYHxcbiAgICAgICAqICAgICAgJy0tLS0nXG4gICAgICAgKiAgICAgICwtLS0tLFxuICAgICAgICogLi4uLi58ICAgIHxcbiAgICAgICAqIDogICAgOi0tLS0nXG4gICAgICAgKiBgYGBgYGBcbiAgICAgICAqICAgICAgLC0tLS0sXG4gICAgICAgKiAgICAuLnwuLi4gfFxuICAgICAgICogICAgOiAnLS06LSdcbiAgICAgICAqICAgIGBgYGBgYFxuICAgICAgICogICAgICAsLS0tLSxcbiAgICAgICAqICAgICAgfC4uLi58XG4gICAgICAgKiAgICAgIDotLS0tOlxuICAgICAgICogICAgICBgYGBgYGBcbiAgICAgICAqICAuLi4uLi5cbiAgICAgICAqICA6ICAgICwtLS0tLFxuICAgICAgICogIDogICAgfCAgICB8XG4gICAgICAgKiAgOiAgICAnLS0tLSdcbiAgICAgICAqICBgYGBgYGBcbiAgICAgICAqICAgIC4uLi4uLlxuICAgICAgICogICAgOiAsLS06LSxcbiAgICAgICAqICAgIDogfCAgOiB8XG4gICAgICAgKiAgICA6ICctLTotJ1xuICAgICAgICogICAgYGBgYGBgXG4gICAgICAgKiAgICAgIC4uLi4uLlxuICAgICAgICogICAgICA6LS0tLTpcbiAgICAgICAqICAgICAgfCAgICB8XG4gICAgICAgKiAgICAgIDotLS0tOlxuICAgICAgICogICAgICBgYGBgYGBcbiAgICAgICAqL1xuICAgICAgY29uc3QgbWFzc1JpZ2h0T3ZlcmxhcCA9IG1hc3MucmlnaHQgPj0gc3ViamVjdC5sZWZ0ICYmIG1hc3MucmlnaHQgPD0gc3ViamVjdC5yaWdodDtcbiAgICAgIGlmIChtYXNzUmlnaHRPdmVybGFwKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbWFzcy5yaWdodCAtIHN1YmplY3QubGVmdDtcbiAgICAgICAgaWYgKG92ZXJsYXAubGVmdCA8IGRpc3RhbmNlKSBvdmVybGFwLmxlZnQgPSBkaXN0YW5jZTtcbiAgICAgIH1cblxuICAgICAgLy8gSSdtIG1pc3NpbmcgdG90YWwgb3ZlcmxhcHMgYW5kIHRvdGFsIGVjbGlwc2VzIGJ1dCBJIGRvbid0IGdpdmUgYSBzaGl0XG4gICAgICByZXR1cm4gb3ZlcmxhcDtcbiAgICB9LCB7XG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdW5pdmVyc2UgPSBuZXcgVW5pdmVyc2UoKTtcbmV4cG9ydCBkZWZhdWx0IHVuaXZlcnNlO1xuIiwiaW1wb3J0IHVuaXZlcnNlLCB7IEdSQVZJVFlfWCwgR1JBVklUWV9ZLCBGUklDVElPTiwgTk9STUFMX0RSQUcgfSBmcm9tIFwiLi91bml2ZXJzZVwiO1xuaW1wb3J0IHsgZGFtcGVuLCBib3VuZCB9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xuXG5jb25zdCB1cGRhdGVEaW1lbnNpb24gPSAoXG4gIHBvc2l0aW9uOiBudW1iZXIsXG4gIHZlbG9jaXR5OiBudW1iZXIsXG4gIGFjY2VsZXJhdGlvbjogbnVtYmVyLFxuICBtaW46IG51bWJlcixcbiAgbWF4OiBudW1iZXIsXG4pOiB7IHBvc2l0aW9uOiBudW1iZXI7IHZlbG9jaXR5OiBudW1iZXIgfSA9PiB7XG4gIGxldCBuZXdQb3NpdGlvbiA9IHBvc2l0aW9uICsgdmVsb2NpdHk7XG4gIGxldCBuZXdWZWxvY2l0eSA9IHZlbG9jaXR5ICsgYWNjZWxlcmF0aW9uO1xuICBpZiAobmV3UG9zaXRpb24gPiBtYXgpIHtcbiAgICBuZXdQb3NpdGlvbiA9IG1heDtcbiAgICBuZXdWZWxvY2l0eSA9IDA7XG4gIH0gZWxzZSBpZiAobmV3UG9zaXRpb24gPCBtaW4pIHtcbiAgICBuZXdQb3NpdGlvbiA9IG1pbjtcbiAgICBuZXdWZWxvY2l0eSA9IDA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvc2l0aW9uOiBuZXdQb3NpdGlvbixcbiAgICB2ZWxvY2l0eTogbmV3VmVsb2NpdHksXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXNzIHtcbiAgcHVibGljIG1hc3MgPSAxOyAvLyBrZ1xuICBwdWJsaWMgeCA9IDA7IC8vIHB4XG4gIHB1YmxpYyB5ID0gMDsgLy8gcHhcbiAgcHVibGljIGR4ID0gMDsgLy8gcHgvZnJcbiAgcHVibGljIGR5ID0gMDsgLy8gcHgvZnJcbiAgcHVibGljIHdpZHRoID0gMjU7IC8vIHB4XG4gIHB1YmxpYyBoZWlnaHQgPSAyNTsgLy8gcHhcbiAgcHVibGljIHN0YXRpb25hcnkgPSBmYWxzZTsgLy8gZG9lc24ndCBtb3ZlXG4gIHB1YmxpYyBkYXJrTWF0dGVyID0gZmFsc2U7IC8vIGRvZXNuJ3QgaW50ZXJhY3RcbiAgcHVibGljIHNvbGlkID0gdHJ1ZTsgLy8gY2FuJ3QgcGFzcyB0aHJvdWdoIGl0XG4gIHB1YmxpYyBjb2xsZWN0T25Ub3VjaCA9IGZhbHNlO1xuICBwdWJsaWMgdG91Y2hlZEF0ID0gbnVsbCBhcyBudWxsfG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogUGFydGlhbDxNYXNzPikge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gICAgaWYgKCF0aGlzLmRhcmtNYXR0ZXIpIHVuaXZlcnNlLm1hc3Nlcy5wdXNoKHRoaXMpO1xuICB9XG5cbiAgZ2V0IGRyYWdDb2VmZmljaWVudCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHN1cmZhY2VBcmVhID0gKDIgKiB0aGlzLndpZHRoKSArICgyICogdGhpcy5oZWlnaHQpO1xuICAgIHJldHVybiAoc3VyZmFjZUFyZWEgLyB0aGlzLm1hc3MpIC8gTk9STUFMX0RSQUc7XG4gIH1cblxuICBnZXQgYXgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuc3RhdGlvbmFyeSA/IDAgOiBHUkFWSVRZX1g7IH1cbiAgZ2V0IGF5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLnN0YXRpb25hcnkgPyAwIDogR1JBVklUWV9ZOyB9XG5cbiAgZ2V0IGlzQWdhaW5zdFRvcFdhbGwoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnkgPT09IDA7IH1cbiAgZ2V0IGlzQWdhaW5zdEJvdHRvbVdhbGwoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnkgPT09IHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMuaGVpZ2h0OyB9XG4gIGdldCBpc0FnYWluc3RMZWZ0V2FsbCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMueCA9PT0gMDsgfVxuICBnZXQgaXNBZ2FpbnN0UmlnaHRXYWxsKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy54ID09PSB3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMud2lkdGg7IH1cblxuICBnZXQgdGVybWluYWxWZWxvY2l0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAyMDsgLy8gVE9ETzogc2hvdWxkIGJlIGJhc2VkIG9uIGRyYWdcbiAgfVxuXG4gIGdldCB0b3AoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMueTsgfVxuICBnZXQgcmlnaHQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7IH1cbiAgZ2V0IGJvdHRvbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQ7IH1cbiAgZ2V0IGxlZnQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMueDsgfVxuXG4gIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCBuZXdYRGF0YSA9IHVwZGF0ZURpbWVuc2lvbih0aGlzLngsIHRoaXMuZHgsIHRoaXMuYXgsIHRoaXMud2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy53aWR0aCk7XG4gICAgY29uc3QgbmV3WURhdGEgPSB1cGRhdGVEaW1lbnNpb24odGhpcy55LCB0aGlzLmR5LCB0aGlzLmF5LCB0aGlzLmhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5oZWlnaHQpO1xuXG4gICAgbGV0IG5ld1ggPSBuZXdYRGF0YS5wb3NpdGlvbjtcbiAgICBsZXQgbmV3WSA9IG5ld1lEYXRhLnBvc2l0aW9uO1xuICAgIGxldCBuZXdEeCA9IG5ld1hEYXRhLnZlbG9jaXR5O1xuICAgIGxldCBuZXdEeSA9IG5ld1lEYXRhLnZlbG9jaXR5O1xuXG4gICAgY29uc3Qgb3ZlcmxhcHMgPSB1bml2ZXJzZS5vdmVybGFwRm9yTW92ZSh0aGlzLCB7IHg6IG5ld1gsIHk6IG5ld1kgfSk7XG4gICAgY29uc3Qgc29saWRPdmVybGFwID0gb3ZlcmxhcHMuc29saWQ7XG5cbiAgICBpZiAoc29saWRPdmVybGFwLnJpZ2h0ID4gMCkge1xuICAgICAgbmV3WCAtPSBzb2xpZE92ZXJsYXAucmlnaHQ7XG4gICAgICBuZXdEeCA9IDA7XG4gICAgfSBlbHNlIGlmIChzb2xpZE92ZXJsYXAubGVmdCA+IDApIHtcbiAgICAgIG5ld1ggKz0gc29saWRPdmVybGFwLmxlZnQ7XG4gICAgICBuZXdEeCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHNvbGlkT3ZlcmxhcC5ib3R0b20gPiAwKSB7XG4gICAgICBuZXdZIC09IHNvbGlkT3ZlcmxhcC5ib3R0b207XG4gICAgICBuZXdEeSA9IDA7XG4gICAgfSBlbHNlIGlmIChzb2xpZE92ZXJsYXAudG9wID4gMCkge1xuICAgICAgbmV3WSArPSBzb2xpZE92ZXJsYXAudG9wO1xuICAgICAgbmV3RHkgPSAwO1xuICAgIH1cblxuICAgIHRoaXMueCA9IG5ld1g7XG4gICAgdGhpcy55ID0gbmV3WTtcblxuICAgIGlmICh0aGlzLmlzQWdhaW5zdFRvcFdhbGwgfHwgdGhpcy5pc0FnYWluc3RCb3R0b21XYWxsIHx8IHNvbGlkT3ZlcmxhcC50b3AgfHwgc29saWRPdmVybGFwLmJvdHRvbSkge1xuICAgICAgbmV3RHggPSBkYW1wZW4obmV3RHgsIEZSSUNUSU9OKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNBZ2FpbnN0TGVmdFdhbGwgfHwgdGhpcy5pc0FnYWluc3RSaWdodFdhbGwgfHwgc29saWRPdmVybGFwLmxlZnQgfHwgc29saWRPdmVybGFwLnJpZ2h0KSB7XG4gICAgICBuZXdEeSA9IGRhbXBlbihuZXdEeSwgRlJJQ1RJT04pO1xuICAgIH1cblxuICAgIHRoaXMuZHggPSBib3VuZChuZXdEeCwgLTEgKiB0aGlzLnRlcm1pbmFsVmVsb2NpdHksIHRoaXMudGVybWluYWxWZWxvY2l0eSk7XG4gICAgdGhpcy5keSA9IGJvdW5kKG5ld0R5LCAtMSAqIHRoaXMudGVybWluYWxWZWxvY2l0eSwgdGhpcy50ZXJtaW5hbFZlbG9jaXR5KTtcbiAgfVxuXG4gIGlzSGl0dGluZyhtYXNzOiBNYXNzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucmlnaHQgPj0gbWFzcy5sZWZ0XG4gICAgICAmJiB0aGlzLmxlZnQgPD0gbWFzcy5yaWdodFxuICAgICAgJiYgdGhpcy5ib3R0b20gPj0gbWFzcy50b3BcbiAgICAgICYmIHRoaXMudG9wIDw9IG1hc3MuYm90dG9tXG4gICAgKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIE1vdXNlIHtcbiAgcHVibGljIHggPSAwO1xuICBwdWJsaWMgeSA9IDA7XG4gIHB1YmxpYyBwcmVzc2VkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50KTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnBvcHVsYXRlRnJvbU1vdXNlRXZlbnQoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5wb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50KTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucG9wdWxhdGVGcm9tVG91Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBwb3B1bGF0ZUZyb21Nb3VzZUV2ZW50KGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy54ID0gZXZlbnQueDtcbiAgICB0aGlzLnkgPSBldmVudC55O1xuICAgIHRoaXMucHJlc3NlZCA9IGV2ZW50LmJ1dHRvbnMgPT09IDE7XG4gIH1cblxuICBwb3B1bGF0ZUZyb21Ub3VjaEV2ZW50KGV2ZW50OiBUb3VjaEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgeyB0b3VjaGVzIH0gPSBldmVudDtcbiAgICBpZiAodG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0b3VjaCA9IHRvdWNoZXNbMF07XG4gICAgICB0aGlzLnggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgdGhpcy55ID0gdG91Y2guY2xpZW50WTtcbiAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG1vdXNlID0gbmV3IE1vdXNlKCk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vdXNlO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbWF4LWNsYXNzZXMtcGVyLWZpbGUgKi9cblxuaW1wb3J0IHsgY3R4IH0gZnJvbSAnLi9jYW52YXMnO1xuaW1wb3J0IGdhbWVMb29wIGZyb20gJy4vZ2FtZUxvb3AnO1xuaW1wb3J0IE1hc3MgZnJvbSAnLi9NYXNzJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9QbGF5ZXInO1xuaW1wb3J0IHsgcmFuZ2UsIHJhbmQgfSBmcm9tICcuL3V0aWxpdGllcyc7XG5cbmNvbnN0IEVQSEVNRVJBTF9ESVNBUFBFQVJBTkNFX1RJTUUgPSAyMDA7XG5jb25zdCBNQVhfWCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuY29uc3QgTUFYX1kgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbmNvbnN0IHBsYXllciA9IG5ldyBQbGF5ZXIoKTtcblxuY29uc3Qgc29saWRNYXNzZXMgPSByYW5nZSgxMCkubWFwKCgpID0+IHtcbiAgcmV0dXJuIG5ldyBNYXNzKHtcbiAgICB4OiByYW5kKDAsIE1BWF9YKSxcbiAgICB5OiByYW5kKDAsIE1BWF9ZKSxcbiAgICB3aWR0aDogcmFuZCg1MCwgMTUwKSxcbiAgICBoZWlnaHQ6IHJhbmQoNTAsIDE1MCksXG4gICAgc3RhdGlvbmFyeTogdHJ1ZSxcbiAgfSk7XG59KTtcblxuY29uc3QgY29sbGVjdGlibGVzID0gcmFuZ2UoMTApLm1hcCgoKSA9PiB7XG4gIHJldHVybiBuZXcgTWFzcyh7XG4gICAgbWFzczogcmFuZCgwLjUsIDUpLFxuICAgIHg6IHJhbmQoMCwgTUFYX1gpLFxuICAgIHk6IHJhbmQoMCwgTUFYX1kpLFxuICAgIHdpZHRoOiAyNSxcbiAgICBoZWlnaHQ6IDI1LFxuICAgIHNvbGlkOiBmYWxzZSxcbiAgICBzdGF0aW9uYXJ5OiBNYXRoLnJhbmRvbSgpID4gMC41LFxuICAgIGNvbGxlY3RPblRvdWNoOiB0cnVlLFxuICB9KTtcbn0pO1xuXG5jb25zdCBtYXNzZXMgPSBbLi4uc29saWRNYXNzZXMsIC4uLmNvbGxlY3RpYmxlc107XG5jb25zdCBmcmVlTWFzc2VzID0gW3BsYXllciwgLi4ubWFzc2VzLmZpbHRlcihtYXNzID0+ICFtYXNzLnN0YXRpb25hcnkpXTtcbmxldCBwb2ludHMgPSAwO1xuY29uc3QgbWF4UG9pbnRzID0gY29sbGVjdGlibGVzLmxlbmd0aDtcblxuY29uc3Qgc3RhcnMgPSByYW5nZSgxMDApLm1hcCgoKSA9PiB7XG4gIGNvbnN0IHNpemUgPSByYW5kKDEsIDUpO1xuICByZXR1cm4gW1xuICAgIHJhbmQoMCwgTUFYX1gpLFxuICAgIHJhbmQoMCwgTUFYX1kpLFxuICAgIHNpemUsXG4gICAgc2l6ZSxcbiAgXSBhcyBjb25zdDtcbn0pO1xuXG5nYW1lTG9vcChjdHgsICgpID0+IHtcbiAgc3RhcnMuZm9yRWFjaCgocmVjdE9wdGlvbnMsIGluZGV4KSA9PiB7XG4gICAgY29uc3Qgb3BhY2l0eSA9ICgoaW5kZXggJSAxMCkgKyAxKSAvIDEwO1xuICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgyNTUsIDI1NSwgMjU1LCAke29wYWNpdHl9KWA7XG4gICAgY3R4LmZpbGxSZWN0KC4uLnJlY3RPcHRpb25zKTtcbiAgfSk7XG5cbiAgbWFzc2VzLmZvckVhY2goKG1hc3MsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaGl0dGluZ01hc3MgPSBwbGF5ZXIuaXNIaXR0aW5nKG1hc3MpO1xuICAgIGxldCBzdGlsbFByZXNlbnQgPSB0cnVlO1xuXG4gICAgaWYgKG1hc3Muc29saWQpIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuNyknO1xuICAgIH0gZWxzZSBpZiAoaGl0dGluZ01hc3MgJiYgIW1hc3MudG91Y2hlZEF0KSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMjU1LCAwLjgpJztcbiAgICAgIG1hc3MudG91Y2hlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB9IGVsc2UgaWYgKG1hc3MuY29sbGVjdE9uVG91Y2ggJiYgbWFzcy50b3VjaGVkQXQpIHtcbiAgICAgIGNvbnN0IG1zU2luY2VUb3VjaCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbWFzcy50b3VjaGVkQXQ7XG4gICAgICBpZiAobXNTaW5jZVRvdWNoID4gRVBIRU1FUkFMX0RJU0FQUEVBUkFOQ0VfVElNRSkge1xuICAgICAgICBtYXNzZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgc3RpbGxQcmVzZW50ID0gZmFsc2U7XG4gICAgICAgIHBvaW50cyArPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmdWYWx1ZSA9IE1hdGguY2VpbCgobXNTaW5jZVRvdWNoIC8gRVBIRU1FUkFMX0RJU0FQUEVBUkFOQ0VfVElNRSkgKiAyNTUpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYmEoJHtyZ1ZhbHVlfSwgJHtyZ1ZhbHVlfSwgMjU1LCAwLjgpYDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDEwMCwgMjU1LCAwLjgpJztcbiAgICB9XG5cbiAgICBpZiAoc3RpbGxQcmVzZW50KSBjdHguZmlsbFJlY3QobWFzcy54LCBtYXNzLnksIG1hc3Mud2lkdGgsIG1hc3MuaGVpZ2h0KTtcbiAgfSk7XG5cbiAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDE1MCwgMCwgMSknO1xuICBjdHguZmlsbFJlY3QocGxheWVyLngsIHBsYXllci55LCBwbGF5ZXIud2lkdGgsIHBsYXllci5oZWlnaHQpO1xuXG4gIGNvbnN0IGZhY2VtYXNrQ29sb3IgPSAncmdiYSgyMjAsIDIyMCwgMjU1LCAxKSc7XG4gIGNvbnN0IGZhY2VtYXNrV2lkdGggPSBwbGF5ZXIud2lkdGggLyAyO1xuICBjb25zdCBmYWNlbWFza0hlaWdodCA9IHBsYXllci5oZWlnaHQgLyA1O1xuICBjb25zdCBmYWNlbWFza09mZnNldFkgPSAzO1xuICBjdHguZmlsbFN0eWxlID0gZmFjZW1hc2tDb2xvcjtcbiAgc3dpdGNoIChwbGF5ZXIuYnVybmVyWFNpZGUpIHtcbiAgICBjYXNlICdsZWZ0JzogY3R4LmZpbGxSZWN0KHBsYXllci54ICsgKHBsYXllci53aWR0aCAtIGZhY2VtYXNrV2lkdGgpLCBwbGF5ZXIueSArIGZhY2VtYXNrT2Zmc2V0WSwgZmFjZW1hc2tXaWR0aCwgZmFjZW1hc2tIZWlnaHQpOyBicmVhaztcbiAgICBjYXNlICdyaWdodCc6IGN0eC5maWxsUmVjdChwbGF5ZXIueCwgcGxheWVyLnkgKyBmYWNlbWFza09mZnNldFksIGZhY2VtYXNrV2lkdGgsIGZhY2VtYXNrSGVpZ2h0KTsgYnJlYWs7XG4gICAgZGVmYXVsdDogY3R4LmZpbGxSZWN0KHBsYXllci54ICsgKChwbGF5ZXIud2lkdGggLSBmYWNlbWFza1dpZHRoKSAvIDIpLCBwbGF5ZXIueSArIGZhY2VtYXNrT2Zmc2V0WSwgZmFjZW1hc2tXaWR0aCwgZmFjZW1hc2tIZWlnaHQpOyBicmVhaztcbiAgfVxuXG4gIGNvbnN0IGJ1cm5lckNvbG9yID0gYHJnYmEoMjU1LCAxMDAsIDAsICR7cmFuZCgwLjUsIDAuNzUpfSlgO1xuICBjb25zdCBidXJuZXJMZW5ndGhYID0gcmFuZCgwLjI1LCAwLjQpICogcGxheWVyLndpZHRoO1xuICBjb25zdCBidXJuZXJMZW5ndGhZID0gcmFuZCgwLjQsIDAuNikgKiBwbGF5ZXIuaGVpZ2h0O1xuICBjb25zdCBidXJuZXJBY3Jvc3MgPSAod2lkdGg6IG51bWJlcik6IG51bWJlciA9PiAwLjYgKiB3aWR0aDtcbiAgY29uc3QgYnVybmVyQWNyb3NzT2Zmc2V0ID0gKHdpZHRoOiBudW1iZXIpOiBudW1iZXIgPT4gKHdpZHRoIC0gYnVybmVyQWNyb3NzKHdpZHRoKSkgLyAyO1xuXG4gIGN0eC5maWxsU3R5bGUgPSBidXJuZXJDb2xvcjtcbiAgc3dpdGNoIChwbGF5ZXIuYnVybmVyWFNpZGUpIHtcbiAgICBjYXNlICdsZWZ0JzogY3R4LmZpbGxSZWN0KFxuICAgICAgcGxheWVyLnggLSBidXJuZXJMZW5ndGhYLCAvLyBwb3NpdGlvbmVkIG9uIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIHBsYXllclxuICAgICAgcGxheWVyLnkgKyBidXJuZXJBY3Jvc3NPZmZzZXQocGxheWVyLmhlaWdodCksIC8vIGNlbnRlcmVkIG9uIHRoZSBZIGF4aXNcbiAgICAgIGJ1cm5lckxlbmd0aFgsIC8vIGxvbmcgdGFpbCBvcmllbnRlZCBhbG9uZyB0aGUgWCBheGlzXG4gICAgICBidXJuZXJBY3Jvc3MocGxheWVyLmhlaWdodCksIC8vIGNyb3NzLXNlY3Rpb24gb3JpZW50ZWQgYWxvbmcgdGhlIFkgYXhpc1xuICAgICk7IGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzogY3R4LmZpbGxSZWN0KFxuICAgICAgcGxheWVyLnggKyBwbGF5ZXIud2lkdGgsIC8vIHBvc2l0aW9uZWQgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIHBsYXllclxuICAgICAgcGxheWVyLnkgKyBidXJuZXJBY3Jvc3NPZmZzZXQocGxheWVyLmhlaWdodCksIC8vIGNlbnRlcmVkIG9uIHRoZSBZIGF4aXNcbiAgICAgIGJ1cm5lckxlbmd0aFgsIC8vIGxvbmcgdGFpbCBvcmllbnRlZCBhbG9uZyB0aGUgWCBheGlzXG4gICAgICBidXJuZXJBY3Jvc3MocGxheWVyLmhlaWdodCksIC8vIGNyb3NzLXNlY3Rpb24gb3JpZW50ZWQgYWxvbmcgdGhlIFkgYXhpc1xuICAgICk7IGJyZWFrO1xuICAgIGRlZmF1bHQ6IGJyZWFrO1xuICB9XG4gIHN3aXRjaCAocGxheWVyLmJ1cm5lcllTaWRlKSB7XG4gICAgY2FzZSAnYm90dG9tJzogY3R4LmZpbGxSZWN0KFxuICAgICAgcGxheWVyLnggKyBidXJuZXJBY3Jvc3NPZmZzZXQocGxheWVyLndpZHRoKSwgLy8gY2VudGVyZWQgb24gdGhlIFggYXhpc1xuICAgICAgcGxheWVyLnkgKyBwbGF5ZXIuaGVpZ2h0LCAvLyBwb3NpdGlvbmVkIG9uIHRoZSBib3R0b20gb2YgdGhlIHBsYXllclxuICAgICAgYnVybmVyQWNyb3NzKHBsYXllci53aWR0aCksIC8vIGNyb3NzLXNlY3Rpb24gb3JpZW50ZWQgYWxvbmcgdGhlIFggYXhpc1xuICAgICAgYnVybmVyTGVuZ3RoWSwgLy8gbG9uZyB0YWlsIG9yaWVudGVkIGFsb25nIHRoZSBZIGF4aXNcbiAgICApOyBicmVhaztcbiAgICBjYXNlICd0b3AnOiBjdHguZmlsbFJlY3QoXG4gICAgICBwbGF5ZXIueCArIGJ1cm5lckFjcm9zc09mZnNldChwbGF5ZXIud2lkdGgpLCAvLyBjZW50ZXJlZCBvbiB0aGUgWCBheGlzXG4gICAgICBwbGF5ZXIueSAtIGJ1cm5lckxlbmd0aFksIC8vIHBvc2l0aW9uZWQgb24gdGhlIHRvcCBvZiB0aGUgcGxheWVyXG4gICAgICBidXJuZXJBY3Jvc3MocGxheWVyLndpZHRoKSwgLy8gY3Jvc3Mtc2VjdGlvbiBvcmllbnRlZCBhbG9uZyB0aGUgWCBheGlzXG4gICAgICBidXJuZXJMZW5ndGhZLCAvLyBsb25nIHRhaWwgb3JpZW50ZWQgYWxvbmcgdGhlIFkgYXhpc1xuICAgICk7IGJyZWFrO1xuICAgIGRlZmF1bHQ6IGJyZWFrO1xuICB9XG5cbiAgY3R4LmZvbnQgPSBcIjMwcHggQ291cmllclwiO1xuICBjdHguZmlsbFN0eWxlID0gJyNGRkYnO1xuICBjb25zdCBzY29yZVRleHQgPSBgJHtwb2ludHN9LyR7bWF4UG9pbnRzfSR7cG9pbnRzID09PSBtYXhQb2ludHMgPyAnIGF3dyB5ZWUnIDogJyd9YDtcbiAgY3R4LmZpbGxUZXh0KHNjb3JlVGV4dCwgNTAsIDUwKTtcblxuICBmcmVlTWFzc2VzLmZvckVhY2gobWFzcyA9PiBtYXNzLnVwZGF0ZSgpKTtcbn0pO1xuIiwiaW1wb3J0IE1hc3MgZnJvbSBcIi4vTWFzc1wiO1xuaW1wb3J0IG1vdXNlIGZyb20gXCIuL21vdXNlXCI7XG5pbXBvcnQgeyBiZXR3ZWVuIH0gZnJvbSBcIi4vdXRpbGl0aWVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIE1hc3Mge1xuICBwdWJsaWMgd2lkdGggPSAxNTtcbiAgcHVibGljIGhlaWdodCA9IDIwO1xuICBwdWJsaWMgamV0cGFja0ZvcmNlWCA9IDAuNDsgLy8gKGtnICogcHgpIC8gZnJeMlxuICBwdWJsaWMgamV0cGFja0ZvcmNlWSA9IDEuMzsgLy8gKGtnICogcHgpIC8gZnJeMlxuXG4gIGdldCBidXJuaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBtb3VzZS5wcmVzc2VkO1xuICB9XG5cbiAgZ2V0IGF4SmV0cGFjaygpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5idXJuaW5nKSByZXR1cm4gMDtcblxuICAgIGNvbnN0IG1vdXNlRGlzdGFuY2UgPSBtb3VzZS54IC0gdGhpcy54O1xuICAgIGNvbnN0IGxlZnRNYXJnaW4gPSAtMSAqIHRoaXMud2lkdGg7XG4gICAgY29uc3QgcmlnaHRNYXJnaW4gPSAyICogdGhpcy53aWR0aDtcbiAgICBpZiAoYmV0d2Vlbihtb3VzZURpc3RhbmNlLCBsZWZ0TWFyZ2luLCByaWdodE1hcmdpbikpIHJldHVybiAwO1xuXG4gICAgY29uc3QgamV0cGFja0FjY2VsZXJhdGlvbiA9IHRoaXMuamV0cGFja0ZvcmNlWCAvIHRoaXMubWFzcztcbiAgICByZXR1cm4gbW91c2VEaXN0YW5jZSA+IDAgPyBqZXRwYWNrQWNjZWxlcmF0aW9uIDogLTEgKiBqZXRwYWNrQWNjZWxlcmF0aW9uO1xuICB9XG5cbiAgZ2V0IGF5SmV0cGFjaygpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5idXJuaW5nKSByZXR1cm4gMDtcblxuICAgIGNvbnN0IG1vdXNlRGlzdGFuY2UgPSBtb3VzZS55IC0gdGhpcy55O1xuICAgIGNvbnN0IHRvcE1hcmdpbiA9IDA7XG4gICAgY29uc3QgYm90dG9tTWFyZ2luID0gdGhpcy5oZWlnaHQ7XG4gICAgaWYgKG1vdXNlRGlzdGFuY2UgPj0gMCB8fCBiZXR3ZWVuKG1vdXNlRGlzdGFuY2UsIHRvcE1hcmdpbiwgYm90dG9tTWFyZ2luKSkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBqZXRwYWNrQWNjZWxlcmF0aW9uID0gdGhpcy5qZXRwYWNrRm9yY2VZIC8gdGhpcy5tYXNzO1xuICAgIHJldHVybiAtMSAqIGpldHBhY2tBY2NlbGVyYXRpb247XG4gIH1cblxuICBnZXQgYXgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gc3VwZXIuYXggKyB0aGlzLmF4SmV0cGFjaztcbiAgfVxuXG4gIGdldCBheSgpOiBudW1iZXIge1xuICAgIHJldHVybiBzdXBlci5heSArIHRoaXMuYXlKZXRwYWNrO1xuICB9XG5cbiAgZ2V0IGJ1cm5lclhTaWRlKCk6ICdsZWZ0J3wnbm9uZSd8J3JpZ2h0JyB7XG4gICAgaWYgKHRoaXMuYXhKZXRwYWNrID09PSAwKSByZXR1cm4gJ25vbmUnO1xuICAgIHJldHVybiB0aGlzLmF4SmV0cGFjayA+IDAgPyAnbGVmdCcgOiAncmlnaHQnO1xuICB9XG5cbiAgZ2V0IGJ1cm5lcllTaWRlKCk6ICdib3R0b20nfCdub25lJ3wndG9wJyB7XG4gICAgaWYgKHRoaXMuYXlKZXRwYWNrID09PSAwKSByZXR1cm4gJ25vbmUnO1xuICAgIHJldHVybiB0aGlzLmF5SmV0cGFjayA+IDAgPyAndG9wJyA6ICdib3R0b20nO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9